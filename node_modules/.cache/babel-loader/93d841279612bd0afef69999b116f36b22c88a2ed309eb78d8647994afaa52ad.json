{"ast":null,"code":"import React, { useEffect, useState, useRef, useCallback } from 'react';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n/* global Reflect, Promise */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n  return extendStatics(d, b);\n};\nfunction __extends(d, b) {\n  extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nfunction __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nfunction __awaiter(thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nfunction __generator(thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n}\nfunction __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n\n/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n  nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function () {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n    lastThis,\n    maxWait,\n    result,\n    timerId,\n    lastCallTime,\n    lastInvokeTime = 0,\n    leading = false,\n    maxing = false,\n    trailing = true;\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  function invokeFunc(time) {\n    var args = lastArgs,\n      thisArg = lastThis;\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n      timeSinceLastInvoke = time - lastInvokeTime,\n      result = wait - timeSinceLastCall;\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n      timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n  function debounced() {\n    var time = now(),\n      isInvoking = shouldInvoke(time);\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n    trailing = true;\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' || isObjectLike(value) && objectToString.call(value) == symbolTag;\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? other + '' : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\nvar lodash_throttle = throttle;\nvar Vector = /** @class */function () {\n  function Vector(x, y) {\n    if (x === void 0) {\n      x = 0;\n    }\n    if (y === void 0) {\n      y = 0;\n    }\n    this.x = x;\n    this.y = y;\n  }\n  Vector.prototype.add = function (vector) {\n    this.x += vector.x;\n    this.y += vector.y;\n    return this;\n  };\n  Vector.prototype.subtract = function (vector) {\n    this.x -= vector.x;\n    this.y -= vector.y;\n    return this;\n  };\n  Vector.prototype.addScalar = function (scalar) {\n    this.x += scalar;\n    this.y += scalar;\n    return this;\n  };\n  Vector.prototype.divideScalar = function (scalar) {\n    this.x = this.x / scalar;\n    this.y = this.y / scalar;\n    return this;\n  };\n  Vector.prototype.multiplyScalar = function (scalar) {\n    this.x = this.x * scalar;\n    this.y = this.y * scalar;\n    return this;\n  };\n  Vector.prototype.getMagnitude = function () {\n    return Math.sqrt(this.x * this.x + this.y * this.y);\n  };\n  Vector.prototype.getAngle = function () {\n    return Math.atan2(this.y, this.x);\n  };\n  Vector.prototype.clone = function () {\n    return new Vector(this.x, this.y);\n  };\n  Vector.prototype.toUnit = function () {\n    var magnitude = this.getMagnitude();\n    if (magnitude) {\n      return this.clone().divideScalar(magnitude);\n    }\n    return this.clone();\n  };\n  Vector.from = function (angle, magnitude) {\n    return new Vector(magnitude * Math.cos(angle), magnitude * Math.sin(angle));\n  };\n  Vector.sum = function (vectors) {\n    var v = new Vector(0, 0);\n    vectors.forEach(function (vector) {\n      v.add(vector);\n    });\n    return v;\n  };\n  return Vector;\n}();\nvar lodash_flatmap = createCommonjsModule(function (module, exports) {\n  /**\n   * lodash (Custom Build) <https://lodash.com/>\n   * Build: `lodash modularize exports=\"npm\" -o ./`\n   * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n   * Released under MIT license <https://lodash.com/license>\n   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n   */\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Used as the `TypeError` message for \"Functions\" methods. */\n  var FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used to compose bitmasks for comparison styles. */\n  var UNORDERED_COMPARE_FLAG = 1,\n    PARTIAL_COMPARE_FLAG = 2;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n  var arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = function () {\n    try {\n      return freeProcess && freeProcess.binding('util');\n    } catch (e) {}\n  }();\n\n  /* Node.js helper references. */\n  var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n      length = array ? array.length : 0,\n      result = Array(length);\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n      length = values.length,\n      offset = array.length;\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n      length = array ? array.length : 0;\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function (object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n      result = Array(n);\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function (value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `value` is a host object in IE < 9.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n   */\n  function isHostObject(value) {\n    // Many host objects are `Object` objects that can coerce to strings\n    // despite having improperly defined `toString` methods.\n    var result = false;\n    if (value != null && typeof value.toString != 'function') {\n      try {\n        result = !!(value + '');\n      } catch (e) {}\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n      result = Array(map.size);\n    map.forEach(function (value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function (arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n      result = Array(set.size);\n    set.forEach(function (value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /** Used for built-in method references. */\n  var arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n  /** Used to detect overreaching core-js shims. */\n  var coreJsData = root['__core-js_shared__'];\n\n  /** Used to detect methods masquerading as native. */\n  var maskSrcKey = function () {\n    var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n    return uid ? 'Symbol(src)_1.' + uid : '';\n  }();\n\n  /** Used to resolve the decompiled source of functions. */\n  var funcToString = funcProto.toString;\n\n  /** Used to check objects for own properties. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /**\n   * Used to resolve the\n   * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var objectToString = objectProto.toString;\n\n  /** Used to detect if a method is native. */\n  var reIsNative = RegExp('^' + funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&').replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$');\n\n  /** Built-in value references. */\n  var Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n  /* Built-in method references for those with the same name as other `lodash` methods. */\n  var nativeKeys = overArg(Object.keys, Object);\n\n  /* Built-in method references that are verified to be native. */\n  var DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n  /** Used to detect maps, sets, and weakmaps. */\n  var dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n  /** Used to convert symbols to primitives and strings. */\n  var symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n  /**\n   * Creates a hash object.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n  function Hash(entries) {\n    var index = -1,\n      length = entries ? entries.length : 0;\n    this.clear();\n    while (++index < length) {\n      var entry = entries[index];\n      this.set(entry[0], entry[1]);\n    }\n  }\n\n  /**\n   * Removes all key-value entries from the hash.\n   *\n   * @private\n   * @name clear\n   * @memberOf Hash\n   */\n  function hashClear() {\n    this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  }\n\n  /**\n   * Removes `key` and its value from the hash.\n   *\n   * @private\n   * @name delete\n   * @memberOf Hash\n   * @param {Object} hash The hash to modify.\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n  function hashDelete(key) {\n    return this.has(key) && delete this.__data__[key];\n  }\n\n  /**\n   * Gets the hash value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf Hash\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n  function hashGet(key) {\n    var data = this.__data__;\n    if (nativeCreate) {\n      var result = data[key];\n      return result === HASH_UNDEFINED ? undefined : result;\n    }\n    return hasOwnProperty.call(data, key) ? data[key] : undefined;\n  }\n\n  /**\n   * Checks if a hash value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf Hash\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function hashHas(key) {\n    var data = this.__data__;\n    return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n  }\n\n  /**\n   * Sets the hash `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf Hash\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the hash instance.\n   */\n  function hashSet(key, value) {\n    var data = this.__data__;\n    data[key] = nativeCreate && value === undefined ? HASH_UNDEFINED : value;\n    return this;\n  }\n\n  // Add methods to `Hash`.\n  Hash.prototype.clear = hashClear;\n  Hash.prototype['delete'] = hashDelete;\n  Hash.prototype.get = hashGet;\n  Hash.prototype.has = hashHas;\n  Hash.prototype.set = hashSet;\n\n  /**\n   * Creates an list cache object.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n  function ListCache(entries) {\n    var index = -1,\n      length = entries ? entries.length : 0;\n    this.clear();\n    while (++index < length) {\n      var entry = entries[index];\n      this.set(entry[0], entry[1]);\n    }\n  }\n\n  /**\n   * Removes all key-value entries from the list cache.\n   *\n   * @private\n   * @name clear\n   * @memberOf ListCache\n   */\n  function listCacheClear() {\n    this.__data__ = [];\n  }\n\n  /**\n   * Removes `key` and its value from the list cache.\n   *\n   * @private\n   * @name delete\n   * @memberOf ListCache\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n  function listCacheDelete(key) {\n    var data = this.__data__,\n      index = assocIndexOf(data, key);\n    if (index < 0) {\n      return false;\n    }\n    var lastIndex = data.length - 1;\n    if (index == lastIndex) {\n      data.pop();\n    } else {\n      splice.call(data, index, 1);\n    }\n    return true;\n  }\n\n  /**\n   * Gets the list cache value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf ListCache\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n  function listCacheGet(key) {\n    var data = this.__data__,\n      index = assocIndexOf(data, key);\n    return index < 0 ? undefined : data[index][1];\n  }\n\n  /**\n   * Checks if a list cache value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf ListCache\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function listCacheHas(key) {\n    return assocIndexOf(this.__data__, key) > -1;\n  }\n\n  /**\n   * Sets the list cache `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf ListCache\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the list cache instance.\n   */\n  function listCacheSet(key, value) {\n    var data = this.__data__,\n      index = assocIndexOf(data, key);\n    if (index < 0) {\n      data.push([key, value]);\n    } else {\n      data[index][1] = value;\n    }\n    return this;\n  }\n\n  // Add methods to `ListCache`.\n  ListCache.prototype.clear = listCacheClear;\n  ListCache.prototype['delete'] = listCacheDelete;\n  ListCache.prototype.get = listCacheGet;\n  ListCache.prototype.has = listCacheHas;\n  ListCache.prototype.set = listCacheSet;\n\n  /**\n   * Creates a map cache object to store key-value pairs.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n  function MapCache(entries) {\n    var index = -1,\n      length = entries ? entries.length : 0;\n    this.clear();\n    while (++index < length) {\n      var entry = entries[index];\n      this.set(entry[0], entry[1]);\n    }\n  }\n\n  /**\n   * Removes all key-value entries from the map.\n   *\n   * @private\n   * @name clear\n   * @memberOf MapCache\n   */\n  function mapCacheClear() {\n    this.__data__ = {\n      'hash': new Hash(),\n      'map': new (Map || ListCache)(),\n      'string': new Hash()\n    };\n  }\n\n  /**\n   * Removes `key` and its value from the map.\n   *\n   * @private\n   * @name delete\n   * @memberOf MapCache\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n  function mapCacheDelete(key) {\n    return getMapData(this, key)['delete'](key);\n  }\n\n  /**\n   * Gets the map value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf MapCache\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n  function mapCacheGet(key) {\n    return getMapData(this, key).get(key);\n  }\n\n  /**\n   * Checks if a map value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf MapCache\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function mapCacheHas(key) {\n    return getMapData(this, key).has(key);\n  }\n\n  /**\n   * Sets the map `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf MapCache\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the map cache instance.\n   */\n  function mapCacheSet(key, value) {\n    getMapData(this, key).set(key, value);\n    return this;\n  }\n\n  // Add methods to `MapCache`.\n  MapCache.prototype.clear = mapCacheClear;\n  MapCache.prototype['delete'] = mapCacheDelete;\n  MapCache.prototype.get = mapCacheGet;\n  MapCache.prototype.has = mapCacheHas;\n  MapCache.prototype.set = mapCacheSet;\n\n  /**\n   *\n   * Creates an array cache object to store unique values.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [values] The values to cache.\n   */\n  function SetCache(values) {\n    var index = -1,\n      length = values ? values.length : 0;\n    this.__data__ = new MapCache();\n    while (++index < length) {\n      this.add(values[index]);\n    }\n  }\n\n  /**\n   * Adds `value` to the array cache.\n   *\n   * @private\n   * @name add\n   * @memberOf SetCache\n   * @alias push\n   * @param {*} value The value to cache.\n   * @returns {Object} Returns the cache instance.\n   */\n  function setCacheAdd(value) {\n    this.__data__.set(value, HASH_UNDEFINED);\n    return this;\n  }\n\n  /**\n   * Checks if `value` is in the array cache.\n   *\n   * @private\n   * @name has\n   * @memberOf SetCache\n   * @param {*} value The value to search for.\n   * @returns {number} Returns `true` if `value` is found, else `false`.\n   */\n  function setCacheHas(value) {\n    return this.__data__.has(value);\n  }\n\n  // Add methods to `SetCache`.\n  SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n  SetCache.prototype.has = setCacheHas;\n\n  /**\n   * Creates a stack cache object to store key-value pairs.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n  function Stack(entries) {\n    this.__data__ = new ListCache(entries);\n  }\n\n  /**\n   * Removes all key-value entries from the stack.\n   *\n   * @private\n   * @name clear\n   * @memberOf Stack\n   */\n  function stackClear() {\n    this.__data__ = new ListCache();\n  }\n\n  /**\n   * Removes `key` and its value from the stack.\n   *\n   * @private\n   * @name delete\n   * @memberOf Stack\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n  function stackDelete(key) {\n    return this.__data__['delete'](key);\n  }\n\n  /**\n   * Gets the stack value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf Stack\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n  function stackGet(key) {\n    return this.__data__.get(key);\n  }\n\n  /**\n   * Checks if a stack value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf Stack\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function stackHas(key) {\n    return this.__data__.has(key);\n  }\n\n  /**\n   * Sets the stack `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf Stack\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the stack cache instance.\n   */\n  function stackSet(key, value) {\n    var cache = this.__data__;\n    if (cache instanceof ListCache) {\n      var pairs = cache.__data__;\n      if (!Map || pairs.length < LARGE_ARRAY_SIZE - 1) {\n        pairs.push([key, value]);\n        return this;\n      }\n      cache = this.__data__ = new MapCache(pairs);\n    }\n    cache.set(key, value);\n    return this;\n  }\n\n  // Add methods to `Stack`.\n  Stack.prototype.clear = stackClear;\n  Stack.prototype['delete'] = stackDelete;\n  Stack.prototype.get = stackGet;\n  Stack.prototype.has = stackHas;\n  Stack.prototype.set = stackSet;\n\n  /**\n   * Creates an array of the enumerable property names of the array-like `value`.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @param {boolean} inherited Specify returning inherited property names.\n   * @returns {Array} Returns the array of property names.\n   */\n  function arrayLikeKeys(value, inherited) {\n    // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n    // Safari 9 makes `arguments.length` enumerable in strict mode.\n    var result = isArray(value) || isArguments(value) ? baseTimes(value.length, String) : [];\n    var length = result.length,\n      skipIndexes = !!length;\n    for (var key in value) {\n      if ((inherited || hasOwnProperty.call(value, key)) && !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n        result.push(key);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Gets the index at which the `key` is found in `array` of key-value pairs.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} key The key to search for.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function assocIndexOf(array, key) {\n    var length = array.length;\n    while (length--) {\n      if (eq(array[length][0], key)) {\n        return length;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.forEach` without support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array|Object} Returns `collection`.\n   */\n  var baseEach = createBaseEach(baseForOwn);\n\n  /**\n   * The base implementation of `_.flatten` with support for restricting flattening.\n   *\n   * @private\n   * @param {Array} array The array to flatten.\n   * @param {number} depth The maximum recursion depth.\n   * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n   * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n   * @param {Array} [result=[]] The initial result value.\n   * @returns {Array} Returns the new flattened array.\n   */\n  function baseFlatten(array, depth, predicate, isStrict, result) {\n    var index = -1,\n      length = array.length;\n    predicate || (predicate = isFlattenable);\n    result || (result = []);\n    while (++index < length) {\n      var value = array[index];\n      if (depth > 0 && predicate(value)) {\n        if (depth > 1) {\n          // Recursively flatten arrays (susceptible to call stack limits).\n          baseFlatten(value, depth - 1, predicate, isStrict, result);\n        } else {\n          arrayPush(result, value);\n        }\n      } else if (!isStrict) {\n        result[result.length] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `baseForOwn` which iterates over `object`\n   * properties returned by `keysFunc` and invokes `iteratee` for each property.\n   * Iteratee functions may exit iteration early by explicitly returning `false`.\n   *\n   * @private\n   * @param {Object} object The object to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {Function} keysFunc The function to get the keys of `object`.\n   * @returns {Object} Returns `object`.\n   */\n  var baseFor = createBaseFor();\n\n  /**\n   * The base implementation of `_.forOwn` without support for iteratee shorthands.\n   *\n   * @private\n   * @param {Object} object The object to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Object} Returns `object`.\n   */\n  function baseForOwn(object, iteratee) {\n    return object && baseFor(object, iteratee, keys);\n  }\n\n  /**\n   * The base implementation of `_.get` without support for default values.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array|string} path The path of the property to get.\n   * @returns {*} Returns the resolved value.\n   */\n  function baseGet(object, path) {\n    path = isKey(path, object) ? [path] : castPath(path);\n    var index = 0,\n      length = path.length;\n    while (object != null && index < length) {\n      object = object[toKey(path[index++])];\n    }\n    return index && index == length ? object : undefined;\n  }\n\n  /**\n   * The base implementation of `getTag`.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @returns {string} Returns the `toStringTag`.\n   */\n  function baseGetTag(value) {\n    return objectToString.call(value);\n  }\n\n  /**\n   * The base implementation of `_.hasIn` without support for deep paths.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {Array|string} key The key to check.\n   * @returns {boolean} Returns `true` if `key` exists, else `false`.\n   */\n  function baseHasIn(object, key) {\n    return object != null && key in Object(object);\n  }\n\n  /**\n   * The base implementation of `_.isEqual` which supports partial comparisons\n   * and tracks traversed objects.\n   *\n   * @private\n   * @param {*} value The value to compare.\n   * @param {*} other The other value to compare.\n   * @param {Function} [customizer] The function to customize comparisons.\n   * @param {boolean} [bitmask] The bitmask of comparison flags.\n   *  The bitmask may be composed of the following flags:\n   *     1 - Unordered comparison\n   *     2 - Partial comparison\n   * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n   */\n  function baseIsEqual(value, other, customizer, bitmask, stack) {\n    if (value === other) {\n      return true;\n    }\n    if (value == null || other == null || !isObject(value) && !isObjectLike(other)) {\n      return value !== value && other !== other;\n    }\n    return baseIsEqualDeep(value, other, baseIsEqual, customizer, bitmask, stack);\n  }\n\n  /**\n   * A specialized version of `baseIsEqual` for arrays and objects which performs\n   * deep comparisons and tracks traversed objects enabling objects with circular\n   * references to be compared.\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @param {Function} equalFunc The function to determine equivalents of values.\n   * @param {Function} [customizer] The function to customize comparisons.\n   * @param {number} [bitmask] The bitmask of comparison flags. See `baseIsEqual`\n   *  for more details.\n   * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n   * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n   */\n  function baseIsEqualDeep(object, other, equalFunc, customizer, bitmask, stack) {\n    var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = arrayTag,\n      othTag = arrayTag;\n    if (!objIsArr) {\n      objTag = getTag(object);\n      objTag = objTag == argsTag ? objectTag : objTag;\n    }\n    if (!othIsArr) {\n      othTag = getTag(other);\n      othTag = othTag == argsTag ? objectTag : othTag;\n    }\n    var objIsObj = objTag == objectTag && !isHostObject(object),\n      othIsObj = othTag == objectTag && !isHostObject(other),\n      isSameTag = objTag == othTag;\n    if (isSameTag && !objIsObj) {\n      stack || (stack = new Stack());\n      return objIsArr || isTypedArray(object) ? equalArrays(object, other, equalFunc, customizer, bitmask, stack) : equalByTag(object, other, objTag, equalFunc, customizer, bitmask, stack);\n    }\n    if (!(bitmask & PARTIAL_COMPARE_FLAG)) {\n      var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n      if (objIsWrapped || othIsWrapped) {\n        var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n        stack || (stack = new Stack());\n        return equalFunc(objUnwrapped, othUnwrapped, customizer, bitmask, stack);\n      }\n    }\n    if (!isSameTag) {\n      return false;\n    }\n    stack || (stack = new Stack());\n    return equalObjects(object, other, equalFunc, customizer, bitmask, stack);\n  }\n\n  /**\n   * The base implementation of `_.isMatch` without support for iteratee shorthands.\n   *\n   * @private\n   * @param {Object} object The object to inspect.\n   * @param {Object} source The object of property values to match.\n   * @param {Array} matchData The property names, values, and compare flags to match.\n   * @param {Function} [customizer] The function to customize comparisons.\n   * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n   */\n  function baseIsMatch(object, source, matchData, customizer) {\n    var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n    if (object == null) {\n      return !length;\n    }\n    object = Object(object);\n    while (index--) {\n      var data = matchData[index];\n      if (noCustomizer && data[2] ? data[1] !== object[data[0]] : !(data[0] in object)) {\n        return false;\n      }\n    }\n    while (++index < length) {\n      data = matchData[index];\n      var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n      if (noCustomizer && data[2]) {\n        if (objValue === undefined && !(key in object)) {\n          return false;\n        }\n      } else {\n        var stack = new Stack();\n        if (customizer) {\n          var result = customizer(objValue, srcValue, key, object, source, stack);\n        }\n        if (!(result === undefined ? baseIsEqual(srcValue, objValue, customizer, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG, stack) : result)) {\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n\n  /**\n   * The base implementation of `_.isNative` without bad shim checks.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a native function,\n   *  else `false`.\n   */\n  function baseIsNative(value) {\n    if (!isObject(value) || isMasked(value)) {\n      return false;\n    }\n    var pattern = isFunction(value) || isHostObject(value) ? reIsNative : reIsHostCtor;\n    return pattern.test(toSource(value));\n  }\n\n  /**\n   * The base implementation of `_.isTypedArray` without Node.js optimizations.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n   */\n  function baseIsTypedArray(value) {\n    return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[objectToString.call(value)];\n  }\n\n  /**\n   * The base implementation of `_.iteratee`.\n   *\n   * @private\n   * @param {*} [value=_.identity] The value to convert to an iteratee.\n   * @returns {Function} Returns the iteratee.\n   */\n  function baseIteratee(value) {\n    // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n    // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n    if (typeof value == 'function') {\n      return value;\n    }\n    if (value == null) {\n      return identity;\n    }\n    if (typeof value == 'object') {\n      return isArray(value) ? baseMatchesProperty(value[0], value[1]) : baseMatches(value);\n    }\n    return property(value);\n  }\n\n  /**\n   * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names.\n   */\n  function baseKeys(object) {\n    if (!isPrototype(object)) {\n      return nativeKeys(object);\n    }\n    var result = [];\n    for (var key in Object(object)) {\n      if (hasOwnProperty.call(object, key) && key != 'constructor') {\n        result.push(key);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.map` without support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function baseMap(collection, iteratee) {\n    var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n    baseEach(collection, function (value, key, collection) {\n      result[++index] = iteratee(value, key, collection);\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.matches` which doesn't clone `source`.\n   *\n   * @private\n   * @param {Object} source The object of property values to match.\n   * @returns {Function} Returns the new spec function.\n   */\n  function baseMatches(source) {\n    var matchData = getMatchData(source);\n    if (matchData.length == 1 && matchData[0][2]) {\n      return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n    }\n    return function (object) {\n      return object === source || baseIsMatch(object, source, matchData);\n    };\n  }\n\n  /**\n   * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n   *\n   * @private\n   * @param {string} path The path of the property to get.\n   * @param {*} srcValue The value to match.\n   * @returns {Function} Returns the new spec function.\n   */\n  function baseMatchesProperty(path, srcValue) {\n    if (isKey(path) && isStrictComparable(srcValue)) {\n      return matchesStrictComparable(toKey(path), srcValue);\n    }\n    return function (object) {\n      var objValue = get(object, path);\n      return objValue === undefined && objValue === srcValue ? hasIn(object, path) : baseIsEqual(srcValue, objValue, undefined, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG);\n    };\n  }\n\n  /**\n   * A specialized version of `baseProperty` which supports deep paths.\n   *\n   * @private\n   * @param {Array|string} path The path of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyDeep(path) {\n    return function (object) {\n      return baseGet(object, path);\n    };\n  }\n\n  /**\n   * The base implementation of `_.toString` which doesn't convert nullish\n   * values to empty strings.\n   *\n   * @private\n   * @param {*} value The value to process.\n   * @returns {string} Returns the string.\n   */\n  function baseToString(value) {\n    // Exit early for strings to avoid a performance hit in some environments.\n    if (typeof value == 'string') {\n      return value;\n    }\n    if (isSymbol(value)) {\n      return symbolToString ? symbolToString.call(value) : '';\n    }\n    var result = value + '';\n    return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n  }\n\n  /**\n   * Casts `value` to a path array if it's not one.\n   *\n   * @private\n   * @param {*} value The value to inspect.\n   * @returns {Array} Returns the cast property path array.\n   */\n  function castPath(value) {\n    return isArray(value) ? value : stringToPath(value);\n  }\n\n  /**\n   * Creates a `baseEach` or `baseEachRight` function.\n   *\n   * @private\n   * @param {Function} eachFunc The function to iterate over a collection.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {Function} Returns the new base function.\n   */\n  function createBaseEach(eachFunc, fromRight) {\n    return function (collection, iteratee) {\n      if (collection == null) {\n        return collection;\n      }\n      if (!isArrayLike(collection)) {\n        return eachFunc(collection, iteratee);\n      }\n      var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n      while (fromRight ? index-- : ++index < length) {\n        if (iteratee(iterable[index], index, iterable) === false) {\n          break;\n        }\n      }\n      return collection;\n    };\n  }\n\n  /**\n   * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n   *\n   * @private\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {Function} Returns the new base function.\n   */\n  function createBaseFor(fromRight) {\n    return function (object, iteratee, keysFunc) {\n      var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n      while (length--) {\n        var key = props[fromRight ? length : ++index];\n        if (iteratee(iterable[key], key, iterable) === false) {\n          break;\n        }\n      }\n      return object;\n    };\n  }\n\n  /**\n   * A specialized version of `baseIsEqualDeep` for arrays with support for\n   * partial deep comparisons.\n   *\n   * @private\n   * @param {Array} array The array to compare.\n   * @param {Array} other The other array to compare.\n   * @param {Function} equalFunc The function to determine equivalents of values.\n   * @param {Function} customizer The function to customize comparisons.\n   * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n   *  for more details.\n   * @param {Object} stack Tracks traversed `array` and `other` objects.\n   * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n   */\n  function equalArrays(array, other, equalFunc, customizer, bitmask, stack) {\n    var isPartial = bitmask & PARTIAL_COMPARE_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n    if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n      return false;\n    }\n    // Assume cyclic values are equal.\n    var stacked = stack.get(array);\n    if (stacked && stack.get(other)) {\n      return stacked == other;\n    }\n    var index = -1,\n      result = true,\n      seen = bitmask & UNORDERED_COMPARE_FLAG ? new SetCache() : undefined;\n    stack.set(array, other);\n    stack.set(other, array);\n\n    // Ignore non-index properties.\n    while (++index < arrLength) {\n      var arrValue = array[index],\n        othValue = other[index];\n      if (customizer) {\n        var compared = isPartial ? customizer(othValue, arrValue, index, other, array, stack) : customizer(arrValue, othValue, index, array, other, stack);\n      }\n      if (compared !== undefined) {\n        if (compared) {\n          continue;\n        }\n        result = false;\n        break;\n      }\n      // Recursively compare arrays (susceptible to call stack limits).\n      if (seen) {\n        if (!arraySome(other, function (othValue, othIndex) {\n          if (!seen.has(othIndex) && (arrValue === othValue || equalFunc(arrValue, othValue, customizer, bitmask, stack))) {\n            return seen.add(othIndex);\n          }\n        })) {\n          result = false;\n          break;\n        }\n      } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, customizer, bitmask, stack))) {\n        result = false;\n        break;\n      }\n    }\n    stack['delete'](array);\n    stack['delete'](other);\n    return result;\n  }\n\n  /**\n   * A specialized version of `baseIsEqualDeep` for comparing objects of\n   * the same `toStringTag`.\n   *\n   * **Note:** This function only supports comparing values with tags of\n   * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @param {string} tag The `toStringTag` of the objects to compare.\n   * @param {Function} equalFunc The function to determine equivalents of values.\n   * @param {Function} customizer The function to customize comparisons.\n   * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n   *  for more details.\n   * @param {Object} stack Tracks traversed `object` and `other` objects.\n   * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n   */\n  function equalByTag(object, other, tag, equalFunc, customizer, bitmask, stack) {\n    switch (tag) {\n      case dataViewTag:\n        if (object.byteLength != other.byteLength || object.byteOffset != other.byteOffset) {\n          return false;\n        }\n        object = object.buffer;\n        other = other.buffer;\n      case arrayBufferTag:\n        if (object.byteLength != other.byteLength || !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n          return false;\n        }\n        return true;\n      case boolTag:\n      case dateTag:\n      case numberTag:\n        // Coerce booleans to `1` or `0` and dates to milliseconds.\n        // Invalid dates are coerced to `NaN`.\n        return eq(+object, +other);\n      case errorTag:\n        return object.name == other.name && object.message == other.message;\n      case regexpTag:\n      case stringTag:\n        // Coerce regexes to strings and treat strings, primitives and objects,\n        // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n        // for more details.\n        return object == other + '';\n      case mapTag:\n        var convert = mapToArray;\n      case setTag:\n        var isPartial = bitmask & PARTIAL_COMPARE_FLAG;\n        convert || (convert = setToArray);\n        if (object.size != other.size && !isPartial) {\n          return false;\n        }\n        // Assume cyclic values are equal.\n        var stacked = stack.get(object);\n        if (stacked) {\n          return stacked == other;\n        }\n        bitmask |= UNORDERED_COMPARE_FLAG;\n\n        // Recursively compare objects (susceptible to call stack limits).\n        stack.set(object, other);\n        var result = equalArrays(convert(object), convert(other), equalFunc, customizer, bitmask, stack);\n        stack['delete'](object);\n        return result;\n      case symbolTag:\n        if (symbolValueOf) {\n          return symbolValueOf.call(object) == symbolValueOf.call(other);\n        }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `baseIsEqualDeep` for objects with support for\n   * partial deep comparisons.\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @param {Function} equalFunc The function to determine equivalents of values.\n   * @param {Function} customizer The function to customize comparisons.\n   * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n   *  for more details.\n   * @param {Object} stack Tracks traversed `object` and `other` objects.\n   * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n   */\n  function equalObjects(object, other, equalFunc, customizer, bitmask, stack) {\n    var isPartial = bitmask & PARTIAL_COMPARE_FLAG,\n      objProps = keys(object),\n      objLength = objProps.length,\n      othProps = keys(other),\n      othLength = othProps.length;\n    if (objLength != othLength && !isPartial) {\n      return false;\n    }\n    var index = objLength;\n    while (index--) {\n      var key = objProps[index];\n      if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n        return false;\n      }\n    }\n    // Assume cyclic values are equal.\n    var stacked = stack.get(object);\n    if (stacked && stack.get(other)) {\n      return stacked == other;\n    }\n    var result = true;\n    stack.set(object, other);\n    stack.set(other, object);\n    var skipCtor = isPartial;\n    while (++index < objLength) {\n      key = objProps[index];\n      var objValue = object[key],\n        othValue = other[key];\n      if (customizer) {\n        var compared = isPartial ? customizer(othValue, objValue, key, other, object, stack) : customizer(objValue, othValue, key, object, other, stack);\n      }\n      // Recursively compare objects (susceptible to call stack limits).\n      if (!(compared === undefined ? objValue === othValue || equalFunc(objValue, othValue, customizer, bitmask, stack) : compared)) {\n        result = false;\n        break;\n      }\n      skipCtor || (skipCtor = key == 'constructor');\n    }\n    if (result && !skipCtor) {\n      var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n      // Non `Object` object instances with different constructors are not equal.\n      if (objCtor != othCtor && 'constructor' in object && 'constructor' in other && !(typeof objCtor == 'function' && objCtor instanceof objCtor && typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n        result = false;\n      }\n    }\n    stack['delete'](object);\n    stack['delete'](other);\n    return result;\n  }\n\n  /**\n   * Gets the data for `map`.\n   *\n   * @private\n   * @param {Object} map The map to query.\n   * @param {string} key The reference key.\n   * @returns {*} Returns the map data.\n   */\n  function getMapData(map, key) {\n    var data = map.__data__;\n    return isKeyable(key) ? data[typeof key == 'string' ? 'string' : 'hash'] : data.map;\n  }\n\n  /**\n   * Gets the property names, values, and compare flags of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the match data of `object`.\n   */\n  function getMatchData(object) {\n    var result = keys(object),\n      length = result.length;\n    while (length--) {\n      var key = result[length],\n        value = object[key];\n      result[length] = [key, value, isStrictComparable(value)];\n    }\n    return result;\n  }\n\n  /**\n   * Gets the native function at `key` of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {string} key The key of the method to get.\n   * @returns {*} Returns the function if it's native, else `undefined`.\n   */\n  function getNative(object, key) {\n    var value = getValue(object, key);\n    return baseIsNative(value) ? value : undefined;\n  }\n\n  /**\n   * Gets the `toStringTag` of `value`.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @returns {string} Returns the `toStringTag`.\n   */\n  var getTag = baseGetTag;\n\n  // Fallback for data views, maps, sets, and weak maps in IE 11,\n  // for data views in Edge < 14, and promises in Node.js.\n  if (DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag || Map && getTag(new Map()) != mapTag || Promise && getTag(Promise.resolve()) != promiseTag || Set && getTag(new Set()) != setTag || WeakMap && getTag(new WeakMap()) != weakMapTag) {\n    getTag = function (value) {\n      var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n      if (ctorString) {\n        switch (ctorString) {\n          case dataViewCtorString:\n            return dataViewTag;\n          case mapCtorString:\n            return mapTag;\n          case promiseCtorString:\n            return promiseTag;\n          case setCtorString:\n            return setTag;\n          case weakMapCtorString:\n            return weakMapTag;\n        }\n      }\n      return result;\n    };\n  }\n\n  /**\n   * Checks if `path` exists on `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array|string} path The path to check.\n   * @param {Function} hasFunc The function to check properties.\n   * @returns {boolean} Returns `true` if `path` exists, else `false`.\n   */\n  function hasPath(object, path, hasFunc) {\n    path = isKey(path, object) ? [path] : castPath(path);\n    var result,\n      index = -1,\n      length = path.length;\n    while (++index < length) {\n      var key = toKey(path[index]);\n      if (!(result = object != null && hasFunc(object, key))) {\n        break;\n      }\n      object = object[key];\n    }\n    if (result) {\n      return result;\n    }\n    var length = object ? object.length : 0;\n    return !!length && isLength(length) && isIndex(key, length) && (isArray(object) || isArguments(object));\n  }\n\n  /**\n   * Checks if `value` is a flattenable `arguments` object or array.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n   */\n  function isFlattenable(value) {\n    return isArray(value) || isArguments(value) || !!(spreadableSymbol && value && value[spreadableSymbol]);\n  }\n\n  /**\n   * Checks if `value` is a valid array-like index.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n   * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n   */\n  function isIndex(value, length) {\n    length = length == null ? MAX_SAFE_INTEGER : length;\n    return !!length && (typeof value == 'number' || reIsUint.test(value)) && value > -1 && value % 1 == 0 && value < length;\n  }\n\n  /**\n   * Checks if `value` is a property name and not a property path.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @param {Object} [object] The object to query keys on.\n   * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n   */\n  function isKey(value, object) {\n    if (isArray(value)) {\n      return false;\n    }\n    var type = typeof value;\n    if (type == 'number' || type == 'symbol' || type == 'boolean' || value == null || isSymbol(value)) {\n      return true;\n    }\n    return reIsPlainProp.test(value) || !reIsDeepProp.test(value) || object != null && value in Object(object);\n  }\n\n  /**\n   * Checks if `value` is suitable for use as unique object key.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n   */\n  function isKeyable(value) {\n    var type = typeof value;\n    return type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean' ? value !== '__proto__' : value === null;\n  }\n\n  /**\n   * Checks if `func` has its source masked.\n   *\n   * @private\n   * @param {Function} func The function to check.\n   * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n   */\n  function isMasked(func) {\n    return !!maskSrcKey && maskSrcKey in func;\n  }\n\n  /**\n   * Checks if `value` is likely a prototype object.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n   */\n  function isPrototype(value) {\n    var Ctor = value && value.constructor,\n      proto = typeof Ctor == 'function' && Ctor.prototype || objectProto;\n    return value === proto;\n  }\n\n  /**\n   * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` if suitable for strict\n   *  equality comparisons, else `false`.\n   */\n  function isStrictComparable(value) {\n    return value === value && !isObject(value);\n  }\n\n  /**\n   * A specialized version of `matchesProperty` for source values suitable\n   * for strict equality comparisons, i.e. `===`.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @param {*} srcValue The value to match.\n   * @returns {Function} Returns the new spec function.\n   */\n  function matchesStrictComparable(key, srcValue) {\n    return function (object) {\n      if (object == null) {\n        return false;\n      }\n      return object[key] === srcValue && (srcValue !== undefined || key in Object(object));\n    };\n  }\n\n  /**\n   * Converts `string` to a property path array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the property path array.\n   */\n  var stringToPath = memoize(function (string) {\n    string = toString(string);\n    var result = [];\n    if (reLeadingDot.test(string)) {\n      result.push('');\n    }\n    string.replace(rePropName, function (match, number, quote, string) {\n      result.push(quote ? string.replace(reEscapeChar, '$1') : number || match);\n    });\n    return result;\n  });\n\n  /**\n   * Converts `value` to a string key if it's not a string or symbol.\n   *\n   * @private\n   * @param {*} value The value to inspect.\n   * @returns {string|symbol} Returns the key.\n   */\n  function toKey(value) {\n    if (typeof value == 'string' || isSymbol(value)) {\n      return value;\n    }\n    var result = value + '';\n    return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n  }\n\n  /**\n   * Converts `func` to its source code.\n   *\n   * @private\n   * @param {Function} func The function to process.\n   * @returns {string} Returns the source code.\n   */\n  function toSource(func) {\n    if (func != null) {\n      try {\n        return funcToString.call(func);\n      } catch (e) {}\n      try {\n        return func + '';\n      } catch (e) {}\n    }\n    return '';\n  }\n\n  /**\n   * Creates a flattened array of values by running each element in `collection`\n   * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n   * with three arguments: (value, index|key, collection).\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Collection\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} [iteratee=_.identity]\n   *  The function invoked per iteration.\n   * @returns {Array} Returns the new flattened array.\n   * @example\n   *\n   * function duplicate(n) {\n   *   return [n, n];\n   * }\n   *\n   * _.flatMap([1, 2], duplicate);\n   * // => [1, 1, 2, 2]\n   */\n  function flatMap(collection, iteratee) {\n    return baseFlatten(map(collection, iteratee), 1);\n  }\n\n  /**\n   * Creates an array of values by running each element in `collection` thru\n   * `iteratee`. The iteratee is invoked with three arguments:\n   * (value, index|key, collection).\n   *\n   * Many lodash methods are guarded to work as iteratees for methods like\n   * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n   *\n   * The guarded methods are:\n   * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n   * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n   * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n   * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Collection\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   * @example\n   *\n   * function square(n) {\n   *   return n * n;\n   * }\n   *\n   * _.map([4, 8], square);\n   * // => [16, 64]\n   *\n   * _.map({ 'a': 4, 'b': 8 }, square);\n   * // => [16, 64] (iteration order is not guaranteed)\n   *\n   * var users = [\n   *   { 'user': 'barney' },\n   *   { 'user': 'fred' }\n   * ];\n   *\n   * // The `_.property` iteratee shorthand.\n   * _.map(users, 'user');\n   * // => ['barney', 'fred']\n   */\n  function map(collection, iteratee) {\n    var func = isArray(collection) ? arrayMap : baseMap;\n    return func(collection, baseIteratee(iteratee, 3));\n  }\n\n  /**\n   * Creates a function that memoizes the result of `func`. If `resolver` is\n   * provided, it determines the cache key for storing the result based on the\n   * arguments provided to the memoized function. By default, the first argument\n   * provided to the memoized function is used as the map cache key. The `func`\n   * is invoked with the `this` binding of the memoized function.\n   *\n   * **Note:** The cache is exposed as the `cache` property on the memoized\n   * function. Its creation may be customized by replacing the `_.memoize.Cache`\n   * constructor with one whose instances implement the\n   * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n   * method interface of `delete`, `get`, `has`, and `set`.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Function\n   * @param {Function} func The function to have its output memoized.\n   * @param {Function} [resolver] The function to resolve the cache key.\n   * @returns {Function} Returns the new memoized function.\n   * @example\n   *\n   * var object = { 'a': 1, 'b': 2 };\n   * var other = { 'c': 3, 'd': 4 };\n   *\n   * var values = _.memoize(_.values);\n   * values(object);\n   * // => [1, 2]\n   *\n   * values(other);\n   * // => [3, 4]\n   *\n   * object.a = 2;\n   * values(object);\n   * // => [1, 2]\n   *\n   * // Modify the result cache.\n   * values.cache.set(object, ['a', 'b']);\n   * values(object);\n   * // => ['a', 'b']\n   *\n   * // Replace `_.memoize.Cache`.\n   * _.memoize.Cache = WeakMap;\n   */\n  function memoize(func, resolver) {\n    if (typeof func != 'function' || resolver && typeof resolver != 'function') {\n      throw new TypeError(FUNC_ERROR_TEXT);\n    }\n    var memoized = function () {\n      var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n      if (cache.has(key)) {\n        return cache.get(key);\n      }\n      var result = func.apply(this, args);\n      memoized.cache = cache.set(key, result);\n      return result;\n    };\n    memoized.cache = new (memoize.Cache || MapCache)();\n    return memoized;\n  }\n\n  // Assign cache to `_.memoize`.\n  memoize.Cache = MapCache;\n\n  /**\n   * Performs a\n   * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n   * comparison between two values to determine if they are equivalent.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to compare.\n   * @param {*} other The other value to compare.\n   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n   * @example\n   *\n   * var object = { 'a': 1 };\n   * var other = { 'a': 1 };\n   *\n   * _.eq(object, object);\n   * // => true\n   *\n   * _.eq(object, other);\n   * // => false\n   *\n   * _.eq('a', 'a');\n   * // => true\n   *\n   * _.eq('a', Object('a'));\n   * // => false\n   *\n   * _.eq(NaN, NaN);\n   * // => true\n   */\n  function eq(value, other) {\n    return value === other || value !== value && other !== other;\n  }\n\n  /**\n   * Checks if `value` is likely an `arguments` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n   *  else `false`.\n   * @example\n   *\n   * _.isArguments(function() { return arguments; }());\n   * // => true\n   *\n   * _.isArguments([1, 2, 3]);\n   * // => false\n   */\n  function isArguments(value) {\n    // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n    return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') && (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n  }\n\n  /**\n   * Checks if `value` is classified as an `Array` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n   * @example\n   *\n   * _.isArray([1, 2, 3]);\n   * // => true\n   *\n   * _.isArray(document.body.children);\n   * // => false\n   *\n   * _.isArray('abc');\n   * // => false\n   *\n   * _.isArray(_.noop);\n   * // => false\n   */\n  var isArray = Array.isArray;\n\n  /**\n   * Checks if `value` is array-like. A value is considered array-like if it's\n   * not a function and has a `value.length` that's an integer greater than or\n   * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n   * @example\n   *\n   * _.isArrayLike([1, 2, 3]);\n   * // => true\n   *\n   * _.isArrayLike(document.body.children);\n   * // => true\n   *\n   * _.isArrayLike('abc');\n   * // => true\n   *\n   * _.isArrayLike(_.noop);\n   * // => false\n   */\n  function isArrayLike(value) {\n    return value != null && isLength(value.length) && !isFunction(value);\n  }\n\n  /**\n   * This method is like `_.isArrayLike` except that it also checks if `value`\n   * is an object.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an array-like object,\n   *  else `false`.\n   * @example\n   *\n   * _.isArrayLikeObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isArrayLikeObject(document.body.children);\n   * // => true\n   *\n   * _.isArrayLikeObject('abc');\n   * // => false\n   *\n   * _.isArrayLikeObject(_.noop);\n   * // => false\n   */\n  function isArrayLikeObject(value) {\n    return isObjectLike(value) && isArrayLike(value);\n  }\n\n  /**\n   * Checks if `value` is classified as a `Function` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n   * @example\n   *\n   * _.isFunction(_);\n   * // => true\n   *\n   * _.isFunction(/abc/);\n   * // => false\n   */\n  function isFunction(value) {\n    // The use of `Object#toString` avoids issues with the `typeof` operator\n    // in Safari 8-9 which returns 'object' for typed array and other constructors.\n    var tag = isObject(value) ? objectToString.call(value) : '';\n    return tag == funcTag || tag == genTag;\n  }\n\n  /**\n   * Checks if `value` is a valid array-like length.\n   *\n   * **Note:** This method is loosely based on\n   * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n   * @example\n   *\n   * _.isLength(3);\n   * // => true\n   *\n   * _.isLength(Number.MIN_VALUE);\n   * // => false\n   *\n   * _.isLength(Infinity);\n   * // => false\n   *\n   * _.isLength('3');\n   * // => false\n   */\n  function isLength(value) {\n    return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n  }\n\n  /**\n   * Checks if `value` is the\n   * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n   * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n   * @example\n   *\n   * _.isObject({});\n   * // => true\n   *\n   * _.isObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isObject(_.noop);\n   * // => true\n   *\n   * _.isObject(null);\n   * // => false\n   */\n  function isObject(value) {\n    var type = typeof value;\n    return !!value && (type == 'object' || type == 'function');\n  }\n\n  /**\n   * Checks if `value` is object-like. A value is object-like if it's not `null`\n   * and has a `typeof` result of \"object\".\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   * @example\n   *\n   * _.isObjectLike({});\n   * // => true\n   *\n   * _.isObjectLike([1, 2, 3]);\n   * // => true\n   *\n   * _.isObjectLike(_.noop);\n   * // => false\n   *\n   * _.isObjectLike(null);\n   * // => false\n   */\n  function isObjectLike(value) {\n    return !!value && typeof value == 'object';\n  }\n\n  /**\n   * Checks if `value` is classified as a `Symbol` primitive or object.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n   * @example\n   *\n   * _.isSymbol(Symbol.iterator);\n   * // => true\n   *\n   * _.isSymbol('abc');\n   * // => false\n   */\n  function isSymbol(value) {\n    return typeof value == 'symbol' || isObjectLike(value) && objectToString.call(value) == symbolTag;\n  }\n\n  /**\n   * Checks if `value` is classified as a typed array.\n   *\n   * @static\n   * @memberOf _\n   * @since 3.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n   * @example\n   *\n   * _.isTypedArray(new Uint8Array);\n   * // => true\n   *\n   * _.isTypedArray([]);\n   * // => false\n   */\n  var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n  /**\n   * Converts `value` to a string. An empty string is returned for `null`\n   * and `undefined` values. The sign of `-0` is preserved.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to process.\n   * @returns {string} Returns the string.\n   * @example\n   *\n   * _.toString(null);\n   * // => ''\n   *\n   * _.toString(-0);\n   * // => '-0'\n   *\n   * _.toString([1, 2, 3]);\n   * // => '1,2,3'\n   */\n  function toString(value) {\n    return value == null ? '' : baseToString(value);\n  }\n\n  /**\n   * Gets the value at `path` of `object`. If the resolved value is\n   * `undefined`, the `defaultValue` is returned in its place.\n   *\n   * @static\n   * @memberOf _\n   * @since 3.7.0\n   * @category Object\n   * @param {Object} object The object to query.\n   * @param {Array|string} path The path of the property to get.\n   * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n   * @returns {*} Returns the resolved value.\n   * @example\n   *\n   * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n   *\n   * _.get(object, 'a[0].b.c');\n   * // => 3\n   *\n   * _.get(object, ['a', '0', 'b', 'c']);\n   * // => 3\n   *\n   * _.get(object, 'a.b.c', 'default');\n   * // => 'default'\n   */\n  function get(object, path, defaultValue) {\n    var result = object == null ? undefined : baseGet(object, path);\n    return result === undefined ? defaultValue : result;\n  }\n\n  /**\n   * Checks if `path` is a direct or inherited property of `object`.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Object\n   * @param {Object} object The object to query.\n   * @param {Array|string} path The path to check.\n   * @returns {boolean} Returns `true` if `path` exists, else `false`.\n   * @example\n   *\n   * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n   *\n   * _.hasIn(object, 'a');\n   * // => true\n   *\n   * _.hasIn(object, 'a.b');\n   * // => true\n   *\n   * _.hasIn(object, ['a', 'b']);\n   * // => true\n   *\n   * _.hasIn(object, 'b');\n   * // => false\n   */\n  function hasIn(object, path) {\n    return object != null && hasPath(object, path, baseHasIn);\n  }\n\n  /**\n   * Creates an array of the own enumerable property names of `object`.\n   *\n   * **Note:** Non-object values are coerced to objects. See the\n   * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n   * for more details.\n   *\n   * @static\n   * @since 0.1.0\n   * @memberOf _\n   * @category Object\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names.\n   * @example\n   *\n   * function Foo() {\n   *   this.a = 1;\n   *   this.b = 2;\n   * }\n   *\n   * Foo.prototype.c = 3;\n   *\n   * _.keys(new Foo);\n   * // => ['a', 'b'] (iteration order is not guaranteed)\n   *\n   * _.keys('hi');\n   * // => ['0', '1']\n   */\n  function keys(object) {\n    return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n  }\n\n  /**\n   * This method returns the first argument it receives.\n   *\n   * @static\n   * @since 0.1.0\n   * @memberOf _\n   * @category Util\n   * @param {*} value Any value.\n   * @returns {*} Returns `value`.\n   * @example\n   *\n   * var object = { 'a': 1 };\n   *\n   * console.log(_.identity(object) === object);\n   * // => true\n   */\n  function identity(value) {\n    return value;\n  }\n\n  /**\n   * Creates a function that returns the value at `path` of a given object.\n   *\n   * @static\n   * @memberOf _\n   * @since 2.4.0\n   * @category Util\n   * @param {Array|string} path The path of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   * @example\n   *\n   * var objects = [\n   *   { 'a': { 'b': 2 } },\n   *   { 'a': { 'b': 1 } }\n   * ];\n   *\n   * _.map(objects, _.property('a.b'));\n   * // => [2, 1]\n   *\n   * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n   * // => [1, 2]\n   */\n  function property(path) {\n    return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n  }\n  module.exports = flatMap;\n});\nvar Subverse = /** @class */function () {\n  function Subverse(parent, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    this.particles = [];\n    this.particleForces = [];\n    this.subverses = [];\n    this.parent = parent;\n    this.options = options;\n  }\n  Subverse.prototype.createSubverse = function () {\n    var subverse = new Subverse(this, this.options);\n    this.subverses.push(subverse);\n    return subverse;\n  };\n  Subverse.prototype.removeSubverse = function (subverse) {\n    this.subverses = this.subverses.filter(function (s) {\n      return s !== subverse;\n    });\n  };\n  Subverse.prototype.addParticle = function (particle) {\n    this.particles.push(particle);\n  };\n  Subverse.prototype.removeParticle = function (particle) {\n    this.particles = this.particles.filter(function (p) {\n      return p !== particle;\n    });\n  };\n  Subverse.prototype.getParticles = function () {\n    return this.particles.concat(lodash_flatmap(this.subverses, function (subverse) {\n      return subverse.getParticles();\n    }));\n  };\n  Subverse.prototype.addParticleForce = function (particleForce) {\n    this.particleForces.push(particleForce);\n  };\n  Subverse.prototype.removeParticleForce = function (particleForce) {\n    this.particleForces = this.particleForces.filter(function (pf) {\n      return pf !== particleForce;\n    });\n  };\n  Subverse.prototype.getParticleForces = function () {\n    if (!this.parent) {\n      return this.particleForces;\n    }\n    return this.parent.getParticleForces().concat(this.particleForces);\n  };\n  Subverse.prototype.enforceBounds = function (particle, bounds) {\n    if (particle.position.x > bounds.right) {\n      particle.position.x = bounds.right;\n      particle.velocity.x *= -1;\n    } else if (particle.position.x < bounds.left) {\n      particle.position.x = bounds.left;\n      particle.velocity.x *= -1;\n    }\n    if (particle.position.y > bounds.bottom) {\n      particle.position.y = bounds.bottom;\n      particle.velocity.y *= -1;\n    } else if (particle.position.y < bounds.top) {\n      particle.position.y = bounds.top;\n      particle.velocity.y *= -1;\n    }\n  };\n  Subverse.prototype.applyForces = function (particle, particleForces) {\n    var forces = particleForces.map(function (particleForce) {\n      return particleForce(particle);\n    });\n    var netForce = Vector.sum(forces);\n    var acceleration = netForce.divideScalar(particle.mass);\n    particle.position.add(particle.velocity);\n    particle.velocity.add(acceleration);\n  };\n  Subverse.prototype.tick = function () {\n    var _this = this;\n    var particleForces = this.getParticleForces();\n    this.particles.forEach(function (particle) {\n      _this.applyForces(particle, particleForces);\n      if (_this.options.bounds) {\n        _this.enforceBounds(particle, _this.options.bounds);\n      }\n    });\n    this.subverses.forEach(function (subverse) {\n      return subverse.tick();\n    });\n  };\n  return Subverse;\n}();\nvar timing = {\n  linear: function (t) {\n    return t;\n  },\n  easeInQuad: function (t) {\n    return t * t;\n  },\n  easeOutQuad: function (t) {\n    return t * (2 - t);\n  },\n  easeInOutQuad: function (t) {\n    return t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n  }\n};\nvar timing$1 = /*#__PURE__*/Object.freeze({\n  default: timing\n});\nvar UniverseState;\n(function (UniverseState) {\n  UniverseState[\"Creating\"] = \"Creating\";\n  UniverseState[\"Created\"] = \"Created\";\n  UniverseState[\"Dying\"] = \"Dying\";\n  UniverseState[\"Dead\"] = \"Dead\";\n})(UniverseState || (UniverseState = {}));\nvar Universe = /** @class */function (_super) {\n  __extends(Universe, _super);\n  function Universe(_a) {\n    var _b = _a === void 0 ? {} : _a,\n      bounds = _b.bounds,\n      _c = _b.frameRate,\n      frameRate = _c === void 0 ? 30 : _c,\n      _d = _b.creationDuration,\n      creationDuration = _d === void 0 ? 500 : _d,\n      _e = _b.deathDuration,\n      deathDuration = _e === void 0 ? 500 : _e,\n      _f = _b.creationTimingFn,\n      creationTimingFn = _f === void 0 ? timing.easeInQuad : _f,\n      _g = _b.deathTimingFn,\n      deathTimingFn = _g === void 0 ? timing.easeInQuad : _g,\n      onStateChange = _b.onStateChange;\n    var _this = _super.call(this, null, {\n      bounds: bounds\n    }) || this;\n    _this.health = 0;\n    _this.creationRate = 1;\n    _this.deathRate = 1;\n    _this.setFrameRate(frameRate);\n    _this.setCreationDuration(creationDuration);\n    _this.setDeathDuration(deathDuration);\n    _this.creationTimingFn = creationTimingFn;\n    _this.deathTimingFn = deathTimingFn;\n    _this.onStateChange = onStateChange;\n    _this.setState(UniverseState.Creating);\n    return _this;\n  }\n  Universe.prototype.setState = function (val) {\n    var _a, _b;\n    this.state = val;\n    (_b = (_a = this).onStateChange) === null || _b === void 0 ? void 0 : _b.call(_a, val, this);\n  };\n  Universe.prototype.applyGrowth = function (particle) {\n    particle.perceivedRadius = particle.radius * this.creationTimingFn(this.health);\n  };\n  Universe.prototype.applyDecay = function (particle) {\n    particle.perceivedRadius = particle.radius * this.deathTimingFn(this.health);\n  };\n  Universe.prototype.setCreationDuration = function (creationDuration) {\n    this.creationDuration = creationDuration;\n    this.creationRate = 1000 / (this.creationDuration * this.frameRate);\n  };\n  Universe.prototype.setDeathDuration = function (deathDuration) {\n    this.deathDuration = deathDuration;\n    this.deathRate = 1000 / (this.deathDuration * this.frameRate);\n  };\n  Universe.prototype.setFrameRate = function (frameRate) {\n    this.frameRate = frameRate;\n    this.creationRate = 1000 / (this.creationDuration * this.frameRate);\n    this.deathRate = 1000 / (this.deathDuration * this.frameRate);\n  };\n  Universe.prototype.setOnStateChange = function (onStateChange) {\n    this.onStateChange = onStateChange;\n  };\n  Universe.prototype.die = function () {\n    var _this = this;\n    this.setState(UniverseState.Dying);\n    return new Promise(function (resolve) {\n      _this.resolveDeath = resolve;\n    });\n  };\n  Universe.prototype.tick = function () {\n    var _this = this;\n    if (this.state === UniverseState.Creating) {\n      this.health = Math.min(this.health + this.creationRate, 1);\n      this.getParticles().forEach(function (particle) {\n        _this.applyGrowth(particle);\n      });\n      if (this.health === 1) {\n        this.setState(UniverseState.Created);\n      }\n    } else if (this.state === UniverseState.Dying) {\n      this.health = Math.max(this.health - this.deathRate, 0);\n      this.getParticles().forEach(function (particle) {\n        _this.applyDecay(particle);\n      });\n      if (this.health === 0) {\n        this.setState(UniverseState.Dead);\n        this.resolveDeath();\n      }\n    }\n    _super.prototype.tick.call(this);\n  };\n  return Universe;\n}(Subverse);\nvar Particle = /** @class */function () {\n  function Particle(_a) {\n    var _b = _a === void 0 ? {} : _a,\n      _c = _b.radius,\n      radius = _c === void 0 ? 1 : _c,\n      _d = _b.friction,\n      friction = _d === void 0 ? 10 : _d,\n      _e = _b.mass,\n      mass = _e === void 0 ? 100 : _e,\n      _f = _b.position,\n      position = _f === void 0 ? new Vector(0, 0) : _f,\n      _g = _b.velocity,\n      velocity = _g === void 0 ? new Vector(0, 0) : _g,\n      _h = _b.color,\n      color = _h === void 0 ? 'black' : _h,\n      _j = _b.growthRate,\n      growthRate = _j === void 0 ? .05 : _j,\n      _k = _b.decayRate,\n      decayRate = _k === void 0 ? .05 : _k;\n    this.perceivedRadius = 0;\n    this.radius = radius;\n    this.friction = friction;\n    this.mass = mass;\n    this.position = position;\n    this.velocity = velocity;\n    this.color = color;\n    this.growthRate = growthRate;\n    this.decayRate = decayRate;\n  }\n  return Particle;\n}();\nvar Renderer = /** @class */function () {\n  function Renderer() {}\n  return Renderer;\n}();\nfunction getImageData(src) {\n  var image = new Image();\n  image.crossOrigin = \"Anonymous\";\n  var p = new Promise(function (resolve, reject) {\n    image.onload = function () {\n      var canvas = document.createElement(\"canvas\");\n      canvas.width = image.width;\n      canvas.height = image.height;\n      var context = canvas.getContext(\"2d\");\n      if (!context) {\n        return reject(new Error('Could not get canvas context'));\n      }\n      context.drawImage(image, 0, 0, image.width, image.height, 0, 0, canvas.width, canvas.height);\n      var imageData = context.getImageData(0, 0, canvas.width, canvas.height).data;\n      context.clearRect(0, 0, canvas.width, canvas.height);\n      var pixels = [];\n      var i = 0;\n      while (i < imageData.length - 1) {\n        var x = i / 4 % canvas.width;\n        var y = Math.floor(i / 4 / canvas.width);\n        if (!pixels[y]) {\n          pixels[y] = [];\n        }\n        pixels[y][x] = {\n          r: imageData[i],\n          g: imageData[i + 1],\n          b: imageData[i + 2],\n          a: imageData[i + 3]\n        };\n        i += 4;\n      }\n      resolve(new Array2D(pixels));\n    };\n    image.onerror = reject;\n  });\n  image.src = src;\n  return p;\n}\nvar range = function (n) {\n  return __spread(Array(n).keys());\n};\nvar shuffle = function (array) {\n  var currentIndex = array.length,\n    temporaryValue,\n    randomIndex;\n  while (0 !== currentIndex) {\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n  return array;\n};\nvar groupBy = function (array, grouper) {\n  return array.reduce(function (groups, item) {\n    var key = grouper(item);\n    if (!groups[key]) {\n      groups[key] = [];\n    }\n    groups[key].push(item);\n    return groups;\n  }, {});\n};\nvar TwoPI = Math.PI * 2;\nvar getMousePosition = function (event) {\n  var canvas = event.target;\n  var rect = canvas.getBoundingClientRect();\n  return {\n    x: (event.clientX - rect.left) / (rect.right - rect.left) * canvas.width,\n    y: (event.clientY - rect.top) / (rect.bottom - rect.top) * canvas.height\n  };\n};\nvar getTouchPosition = function (event) {\n  var canvas = event.target;\n  var rect = canvas.getBoundingClientRect();\n  return {\n    x: (event.touches[0].clientX - rect.left) / (rect.right - rect.left) * canvas.width,\n    y: (event.touches[0].clientY - rect.top) / (rect.bottom - rect.top) * canvas.height\n  };\n};\nvar BrowserAnimator = /** @class */function () {\n  function BrowserAnimator(callback, fps) {\n    var _this = this;\n    if (fps === void 0) {\n      fps = 30;\n    }\n    this.setFps = function (fps) {\n      _this.delay = 1000 / fps;\n      _this.time = null;\n      _this.frame = -1;\n    };\n    this.start = function () {\n      if (!_this.rafId) {\n        _this.rafId = requestAnimationFrame(_this.loop);\n      }\n    };\n    this.stop = function () {\n      if (_this.rafId) {\n        cancelAnimationFrame(_this.rafId);\n        _this.rafId = null;\n        _this.time = null;\n        _this.frame = -1;\n      }\n    };\n    this.loop = function (timestamp) {\n      if (_this.time === null) {\n        _this.time = timestamp;\n      }\n      var seg = Math.floor((timestamp - _this.time) / _this.delay); // calc frame no.\n      if (seg > _this.frame) {\n        // moved to next frame?\n        _this.frame = seg; // update\n        _this.callback({\n          time: timestamp,\n          frame: _this.frame\n        });\n      }\n      _this.rafId = requestAnimationFrame(_this.loop);\n    };\n    this.delay = 1000 / fps;\n    this.time = null;\n    this.frame = -1;\n    this.callback = callback;\n  }\n  return BrowserAnimator;\n}();\nvar CanvasRenderer = /** @class */function (_super) {\n  __extends(CanvasRenderer, _super);\n  function CanvasRenderer(canvas) {\n    var _this = _super.call(this) || this;\n    _this.canvas = canvas;\n    return _this;\n  }\n  CanvasRenderer.prototype.context = function () {\n    return this.canvas.getContext('2d');\n  };\n  CanvasRenderer.prototype.height = function () {\n    return this.canvas.height;\n  };\n  CanvasRenderer.prototype.width = function () {\n    return this.canvas.width;\n  };\n  CanvasRenderer.prototype.clear = function () {\n    var _a;\n    (_a = this.context()) === null || _a === void 0 ? void 0 : _a.clearRect(0, 0, this.width(), this.height());\n  };\n  CanvasRenderer.prototype.drawParticles = function (particles, color) {\n    var context = this.context();\n    if (context) {\n      context.fillStyle = color;\n      context.beginPath();\n      particles.forEach(function (particle) {\n        context.moveTo(particle.position.x + particle.radius, particle.position.y);\n        context.arc(particle.position.x, particle.position.y, particle.perceivedRadius, 0, TwoPI);\n      });\n      context.fill();\n    }\n  };\n  CanvasRenderer.prototype.drawFrame = function (universe) {\n    var _this = this;\n    this.clear();\n    var particles = universe.getParticles();\n    var particlesByColor = groupBy(particles, function (particle) {\n      return particle.color;\n    });\n    Object.keys(particlesByColor).forEach(function (color) {\n      _this.drawParticles(particlesByColor[color], color);\n    });\n  };\n  return CanvasRenderer;\n}(Renderer);\nvar Simulator = /** @class */function () {\n  function Simulator(renderer, universe, _a) {\n    var _this = this;\n    if (universe === void 0) {\n      universe = null;\n    }\n    var _b = (_a === void 0 ? {} : _a).frameRate,\n      frameRate = _b === void 0 ? 30 : _b;\n    this.id = null;\n    this.start = function () {\n      _this.animator.start();\n    };\n    this.stop = function () {\n      _this.animator.stop();\n    };\n    this.loop = function () {\n      if (_this.universe) {\n        _this.renderer.drawFrame(_this.universe);\n        _this.universe.tick();\n      }\n    };\n    this.universe = universe;\n    this.renderer = renderer;\n    this.animator = new BrowserAnimator(this.loop, frameRate);\n  }\n  Simulator.prototype.setUniverse = function (universe) {\n    this.universe = universe;\n  };\n  return Simulator;\n}();\nfunction blackHole$$1(blackHoleX, blackHoleY, strength) {\n  if (strength === void 0) {\n    strength = 1;\n  }\n  return function (particle) {\n    var blackHolePosition = new Vector(blackHoleX, blackHoleY);\n    return blackHolePosition.subtract(particle.position).multiplyScalar(strength);\n  };\n}\nfunction disturbance$$1(x, y, strength) {\n  if (strength === void 0) {\n    strength = 1;\n  }\n  return function (particle) {\n    var holePosition = new Vector(x, y);\n    holePosition.subtract(particle.position).multiplyScalar(-1);\n    holePosition.divideScalar((holePosition.getMagnitude() ^ 12) / (strength + .001) + .01);\n    return holePosition;\n  };\n}\nfunction entropy$$1(n) {\n  return function () {\n    var randomForce = new Vector(Math.random() - 0.5, Math.random() - 0.5);\n    return randomForce.multiplyScalar(n);\n  };\n}\nvar friction$$1 = function (particle) {\n  var friction$$1 = Math.min(Math.max(particle.friction, 0), 1);\n  if (particle.velocity.getMagnitude() === 0) {\n    return new Vector(0, 0);\n  }\n  return particle.velocity.clone().multiplyScalar(-(friction$$1 * particle.mass));\n};\nvar forces = /*#__PURE__*/Object.freeze({\n  blackHole: blackHole$$1,\n  disturbance: disturbance$$1,\n  entropy: entropy$$1,\n  friction: friction$$1\n});\nvar PixelManager = /** @class */function () {\n  function PixelManager(options) {\n    var _this = this;\n    this.setScale = function (scale) {\n      _this.scale = scale;\n    };\n    this.setCanvasWidth = function (width) {\n      _this.canvasWidth = width;\n    };\n    this.setCanvasHeight = function (height) {\n      _this.canvasHeight = height;\n    };\n    this.getParticleForce = function () {\n      return function (particle) {\n        var pixelPosition = _this.getPixelPosition();\n        return blackHole$$1(pixelPosition.x, pixelPosition.y)(particle);\n      };\n    };\n    this.getPixelPosition = function () {\n      var x = _this.pixelX * _this.scale + _this.canvasWidth / 2 - _this.imageWidth * _this.scale / 2;\n      var y = _this.pixelY * _this.scale + _this.canvasHeight / 2 - _this.imageHeight * _this.scale / 2;\n      return new Vector(x, y);\n    };\n    this.pixelX = options.pixelX;\n    this.pixelY = options.pixelY;\n    this.scale = options.scale;\n    this.imageWidth = options.imageWidth;\n    this.imageHeight = options.imageHeight;\n    this.canvasWidth = options.canvasWidth;\n    this.canvasHeight = options.canvasHeight;\n  }\n  return PixelManager;\n}();\nvar Array2D = /** @class */function () {\n  function Array2D(array) {\n    this.array = array;\n    this.updateWidth();\n    this.updateHeight();\n  }\n  Array2D.prototype.updateWidth = function () {\n    this.width = Math.min.apply(Math, __spread(this.array.map(function (row) {\n      return row.length;\n    })));\n  };\n  Array2D.prototype.updateHeight = function () {\n    this.height = this.array.length;\n  };\n  Array2D.prototype.getHeight = function () {\n    return this.height;\n  };\n  Array2D.prototype.getWidth = function () {\n    return this.width;\n  };\n  Array2D.prototype.get = function (x, y) {\n    return this.array[y][x];\n  };\n  Array2D.prototype.set = function (x, y, value) {\n    if (!this.array[y]) {\n      this.array[y] = [];\n    }\n    this.array[y][x] = value;\n    this.updateWidth();\n    this.updateHeight();\n  };\n  Array2D.prototype.slice = function (_a, _b) {\n    var _c = __read(_a, 2),\n      xMin = _c[0],\n      xMax = _c[1];\n    var _d = __read(_b, 2),\n      yMin = _d[0],\n      yMax = _d[1];\n    return new Array2D(this.array.slice(yMin, yMax).map(function (row) {\n      return row.slice(xMin, xMax);\n    }));\n  };\n  Array2D.prototype.forEach = function (callback) {\n    this.array.forEach(function (row, y) {\n      row.forEach(function (item, x) {\n        callback(item, x, y);\n      });\n    });\n  };\n  return Array2D;\n}();\nvar createImageUniverse = function (_a) {\n  var url = _a.url,\n    maxParticles = _a.maxParticles,\n    particleOptions = _a.particleOptions,\n    scale = _a.scale,\n    canvasDimensions = _a.canvasDimensions,\n    creationTimingFn = _a.creationTimingFn,\n    deathTimingFn = _a.deathTimingFn,\n    creationDuration = _a.creationDuration,\n    deathDuration = _a.deathDuration,\n    onUniverseStateChange = _a.onUniverseStateChange;\n  return __awaiter(void 0, void 0, void 0, function () {\n    var image, imageHeight, imageWidth, numPixels, indexArray, selectedPixels, universe, pixelManagers, nextIndex, x, y, shouldCreateParticle, subverse, pixelManager, color, radius, friction, mass, position, velocity;\n    return __generator(this, function (_b) {\n      switch (_b.label) {\n        case 0:\n          return [4 /*yield*/, getImageData(url)];\n        case 1:\n          image = _b.sent();\n          imageHeight = image.getHeight();\n          imageWidth = image.getWidth();\n          numPixels = imageHeight * imageWidth;\n          indexArray = shuffle(range(numPixels));\n          selectedPixels = 0;\n          universe = new Universe({\n            creationTimingFn: creationTimingFn,\n            deathTimingFn: deathTimingFn,\n            creationDuration: creationDuration,\n            deathDuration: deathDuration,\n            onStateChange: onUniverseStateChange\n          });\n          pixelManagers = [];\n          maxParticles = Math.min(numPixels, maxParticles);\n          while (selectedPixels < maxParticles && indexArray.length) {\n            nextIndex = indexArray.pop() || 0;\n            x = nextIndex % imageWidth;\n            y = Math.floor(nextIndex / imageWidth);\n            shouldCreateParticle = particleOptions.filter({\n              x: x,\n              y: y,\n              image: image\n            });\n            if (shouldCreateParticle) {\n              subverse = universe.createSubverse();\n              pixelManager = new PixelManager({\n                pixelX: x,\n                pixelY: y,\n                scale: scale,\n                imageHeight: image.getHeight(),\n                imageWidth: image.getWidth(),\n                canvasWidth: canvasDimensions.width,\n                canvasHeight: canvasDimensions.height\n              });\n              pixelManagers.push(pixelManager);\n              subverse.addParticleForce(pixelManager.getParticleForce());\n              color = particleOptions.color({\n                x: x,\n                y: y,\n                image: image\n              });\n              radius = particleOptions.radius({\n                x: x,\n                y: y,\n                image: image\n              });\n              friction = particleOptions.friction({\n                x: x,\n                y: y,\n                image: image\n              });\n              mass = particleOptions.mass({\n                x: x,\n                y: y,\n                image: image\n              });\n              position = particleOptions.initialPosition({\n                x: x,\n                y: y,\n                image: image,\n                finalPosition: pixelManager.getPixelPosition(),\n                canvasDimensions: canvasDimensions\n              });\n              velocity = particleOptions.initialVelocity({\n                x: x,\n                y: y,\n                image: image\n              });\n              subverse.addParticle(new Particle({\n                radius: radius,\n                mass: mass,\n                color: color,\n                friction: friction,\n                position: position,\n                velocity: velocity\n              }));\n              selectedPixels += 1;\n            }\n          }\n          return [2 /*return*/, {\n            universe: universe,\n            pixelManagers: pixelManagers\n          }];\n      }\n    });\n  });\n};\nvar useTransientParticleForce = function (_a) {\n  var universe = _a.universe,\n    _b = _a.duration,\n    duration = _b === void 0 ? 100 : _b;\n  var _c = __read(useState(null), 2),\n    particleForce = _c[0],\n    setParticleForce = _c[1];\n  useEffect(function () {\n    // Reset before universe change\n    return function () {\n      setParticleForce(null);\n    };\n  }, [universe]);\n  useEffect(function () {\n    if (universe && particleForce) {\n      universe.addParticleForce(particleForce);\n      var timeoutId_1 = window.setTimeout(function () {\n        universe.removeParticleForce(particleForce);\n        setParticleForce(null);\n      }, duration);\n      return function () {\n        window.clearTimeout(timeoutId_1);\n        universe.removeParticleForce(particleForce);\n      };\n    }\n  }, [universe, particleForce, duration]);\n  return [particleForce, setParticleForce];\n};\nvar ImageState;\n(function (ImageState) {\n  ImageState[\"Loading\"] = \"Loading\";\n  ImageState[\"Loaded\"] = \"Loaded\";\n  ImageState[\"Error\"] = \"Error\";\n})(ImageState || (ImageState = {}));\n\n/**\r\n * Default particle options\r\n * @internal\r\n */\nvar defaultParticleOptions = {\n  filter: function () {\n    return true;\n  },\n  radius: function () {\n    return 1;\n  },\n  mass: function () {\n    return 50;\n  },\n  color: function () {\n    return 'white';\n  },\n  friction: function () {\n    return .15;\n  },\n  initialPosition: function (_a) {\n    var finalPosition = _a.finalPosition;\n    return finalPosition;\n  },\n  initialVelocity: function () {\n    return new Vector(0, 0);\n  }\n};\nvar ParticleImage = function (_a) {\n  var src = _a.src,\n    _b = _a.height,\n    height = _b === void 0 ? 400 : _b,\n    _c = _a.width,\n    width = _c === void 0 ? 400 : _c,\n    _d = _a.scale,\n    scale = _d === void 0 ? 1 : _d,\n    _e = _a.maxParticles,\n    maxParticles = _e === void 0 ? 5000 : _e,\n    _f = _a.entropy,\n    entropy = _f === void 0 ? 20 : _f,\n    _g = _a.backgroundColor,\n    backgroundColor = _g === void 0 ? '#222' : _g,\n    _h = _a.particleOptions,\n    particleOptions = _h === void 0 ? {} : _h,\n    mouseMoveForce = _a.mouseMoveForce,\n    touchMoveForce = _a.touchMoveForce,\n    mouseDownForce = _a.mouseDownForce,\n    _j = _a.mouseMoveForceDuration,\n    mouseMoveForceDuration = _j === void 0 ? 100 : _j,\n    _k = _a.touchMoveForceDuration,\n    touchMoveForceDuration = _k === void 0 ? 100 : _k,\n    _l = _a.mouseDownForceDuration,\n    mouseDownForceDuration = _l === void 0 ? 100 : _l,\n    creationTimingFn = _a.creationTimingFn,\n    creationDuration = _a.creationDuration,\n    deathTimingFn = _a.deathTimingFn,\n    deathDuration = _a.deathDuration,\n    onUniverseStateChange = _a.onUniverseStateChange,\n    onImageStateChange = _a.onImageStateChange,\n    _m = _a.style,\n    style = _m === void 0 ? {} : _m,\n    otherProps = __rest(_a, [\"src\", \"height\", \"width\", \"scale\", \"maxParticles\", \"entropy\", \"backgroundColor\", \"particleOptions\", \"mouseMoveForce\", \"touchMoveForce\", \"mouseDownForce\", \"mouseMoveForceDuration\", \"touchMoveForceDuration\", \"mouseDownForceDuration\", \"creationTimingFn\", \"creationDuration\", \"deathTimingFn\", \"deathDuration\", \"onUniverseStateChange\", \"onImageStateChange\", \"style\"]);\n  var _o = __read(useState(), 2),\n    canvas = _o[0],\n    setCanvas = _o[1];\n  var _p = __read(useState(), 2),\n    universe = _p[0],\n    setUniverse = _p[1];\n  var simulatorRef = useRef();\n  var entropyForceRef = useRef();\n  var _q = __read(useState([]), 2),\n    pixelManagers = _q[0],\n    setPixelManagers = _q[1];\n  var mergedParticleOptions = __assign(__assign({}, defaultParticleOptions), particleOptions);\n  useEffect(function () {\n    if (canvas) {\n      var renderer = new CanvasRenderer(canvas);\n      var simulator_1 = new Simulator(renderer);\n      simulatorRef.current = simulator_1;\n      simulator_1.start();\n      return function () {\n        return simulator_1.stop();\n      };\n    }\n  }, [canvas]);\n  useEffect(function () {\n    var _a, _b;\n    if (canvas) {\n      var canvasDimensions = {\n        width: canvas.width,\n        height: canvas.height\n      };\n      var death = (_a = universe) === null || _a === void 0 ? void 0 : _a.die();\n      var setUp = createImageUniverse({\n        url: src,\n        maxParticles: maxParticles,\n        particleOptions: mergedParticleOptions,\n        scale: scale,\n        canvasDimensions: canvasDimensions,\n        creationTimingFn: creationTimingFn,\n        creationDuration: creationDuration,\n        deathTimingFn: deathTimingFn,\n        deathDuration: deathDuration,\n        onUniverseStateChange: onUniverseStateChange\n      });\n      (_b = onImageStateChange) === null || _b === void 0 ? void 0 : _b(ImageState.Loading);\n      setUp.then(function () {\n        var _a;\n        (_a = onImageStateChange) === null || _a === void 0 ? void 0 : _a(ImageState.Loaded);\n      }).catch(function () {\n        var _a;\n        (_a = onImageStateChange) === null || _a === void 0 ? void 0 : _a(ImageState.Error);\n      });\n      Promise.all([setUp, death]).then(function (_a) {\n        var _b = __read(_a, 1),\n          _c = _b[0],\n          universe = _c.universe,\n          pixelManagers = _c.pixelManagers;\n        var _d;\n        setPixelManagers(pixelManagers);\n        universe.addParticleForce(friction$$1);\n        (_d = simulatorRef.current) === null || _d === void 0 ? void 0 : _d.setUniverse(universe);\n        setUniverse(universe);\n      }).catch(function () {\n        // Eat it here, let the consumer handle it via onImageStateChange\n      });\n    }\n  }, [canvas, src]);\n  useEffect(function () {\n    var _a;\n    (_a = universe) === null || _a === void 0 ? void 0 : _a.setOnStateChange(onUniverseStateChange);\n  }, [universe, onUniverseStateChange]);\n  var updateScale = useCallback(lodash_throttle(function (scale) {\n    pixelManagers.forEach(function (pixelManager) {\n      pixelManager.setScale(scale);\n    });\n  }, 50), [pixelManagers]);\n  var updateWidth = useCallback(lodash_throttle(function (width) {\n    pixelManagers.forEach(function (pixelManager) {\n      pixelManager.setCanvasWidth(width);\n    });\n  }, 50), [pixelManagers]);\n  var updateHeight = useCallback(lodash_throttle(function (height) {\n    pixelManagers.forEach(function (pixelManager) {\n      pixelManager.setCanvasHeight(height);\n    });\n  }, 50), [pixelManagers]);\n  useEffect(function () {\n    updateScale(scale);\n  }, [scale, updateScale]);\n  useEffect(function () {\n    updateWidth(width);\n  }, [width, updateWidth]);\n  useEffect(function () {\n    updateHeight(height);\n  }, [height, updateHeight]);\n  useEffect(function () {\n    var _a;\n    var entropyForce = entropy$$1(entropy);\n    (_a = universe) === null || _a === void 0 ? void 0 : _a.addParticleForce(entropyForce);\n    entropyForceRef.current = entropyForce;\n    return function () {\n      var _a;\n      (_a = universe) === null || _a === void 0 ? void 0 : _a.removeParticleForce(entropyForce);\n    };\n  }, [entropy, canvas, universe]);\n  var _r = __read(useTransientParticleForce({\n      universe: universe,\n      duration: mouseMoveForceDuration\n    }), 2),\n    mouseMoveParticleForce = _r[0],\n    setMouseMoveParticleForce = _r[1];\n  var _s = __read(useTransientParticleForce({\n      universe: universe,\n      duration: touchMoveForceDuration\n    }), 2),\n    touchMoveParticleForce = _s[0],\n    setTouchMoveParticleForce = _s[1];\n  var _t = __read(useTransientParticleForce({\n      universe: universe,\n      duration: mouseDownForceDuration\n    }), 2),\n    mouseDownParticleForce = _t[0],\n    setMouseDownParticleForce = _t[1];\n  var handleMouseMove = function (e) {\n    var _a, _b;\n    if (mouseMoveForce) {\n      var position_1 = getMousePosition(e);\n      setMouseMoveParticleForce(function () {\n        return mouseMoveForce(position_1.x, position_1.y);\n      });\n    }\n    (_b = (_a = otherProps).onMouseMove) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n  };\n  var handleTouchMove = function (e) {\n    var _a, _b;\n    if (touchMoveForce) {\n      var position_2 = getTouchPosition(e);\n      setTouchMoveParticleForce(function () {\n        return touchMoveForce(position_2.x, position_2.y);\n      });\n    }\n    (_b = (_a = otherProps).onTouchMove) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n  };\n  var handleMouseDown = function (e) {\n    var _a, _b;\n    if (mouseDownForce) {\n      var position_3 = getMousePosition(e);\n      setMouseDownParticleForce(function () {\n        return mouseDownForce(position_3.x, position_3.y);\n      });\n    }\n    (_b = (_a = otherProps).onMouseDown) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n  };\n  return React.createElement(\"canvas\", __assign({}, otherProps, {\n    onMouseMove: handleMouseMove,\n    onTouchMove: handleTouchMove,\n    onMouseDown: handleMouseDown,\n    height: height,\n    width: width,\n    style: __assign({\n      backgroundColor: backgroundColor,\n      touchAction: 'none'\n    }, style),\n    ref: function (c) {\n      var _a;\n      if ((_a = c) === null || _a === void 0 ? void 0 : _a.getContext('2d')) {\n        setCanvas(c);\n      }\n    }\n  }));\n};\nexport default ParticleImage;\nexport { useTransientParticleForce, BrowserAnimator, getMousePosition, getTouchPosition, Universe, UniverseState, Subverse, Particle, Vector, Renderer, CanvasRenderer, Simulator, PixelManager, Array2D, forces, timing$1 as timing };","map":{"version":3,"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","TypeError","pop","push","__read","o","m","r","ar","error","__spread","concat","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","commonjsGlobal","freeSelf","self","root","Function","objectProto","objectToString","toString","nativeMax","Math","max","nativeMin","min","now","Date","debounce","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","toNumber","isObject","invokeFunc","time","args","undefined","leadingEdge","setTimeout","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","shouldInvoke","trailingEdge","cancel","clearTimeout","flush","debounced","isInvoking","throttle","type","isObjectLike","isSymbol","other","valueOf","replace","isBinary","test","slice","lodash_throttle","Vector","x","add","vector","subtract","addScalar","scalar","divideScalar","multiplyScalar","getMagnitude","sqrt","getAngle","atan2","clone","toUnit","magnitude","from","angle","cos","sin","sum","vectors","forEach","LARGE_ARRAY_SIZE","HASH_UNDEFINED","UNORDERED_COMPARE_FLAG","PARTIAL_COMPARE_FLAG","INFINITY","MAX_SAFE_INTEGER","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reIsDeepProp","reIsPlainProp","reLeadingDot","rePropName","reRegExpChar","reEscapeChar","reIsHostCtor","reIsUint","typedArrayTags","freeExports","exports","nodeType","freeModule","module","moduleExports","freeProcess","process","nodeUtil","binding","nodeIsTypedArray","isTypedArray","arrayMap","array","iteratee","index","arrayPush","values","offset","arraySome","predicate","baseProperty","key","object","baseTimes","baseUnary","getValue","isHostObject","mapToArray","map","size","overArg","transform","arg","setToArray","set","arrayProto","funcProto","coreJsData","maskSrcKey","uid","exec","keys","IE_PROTO","funcToString","reIsNative","RegExp","Uint8Array","splice","spreadableSymbol","isConcatSpreadable","nativeKeys","DataView","getNative","Map","Set","WeakMap","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","symbolToString","Hash","entries","clear","entry","hashClear","__data__","hashDelete","has","hashGet","data","hashHas","hashSet","get","ListCache","listCacheClear","listCacheDelete","assocIndexOf","lastIndex","listCacheGet","listCacheHas","listCacheSet","MapCache","mapCacheClear","mapCacheDelete","getMapData","mapCacheGet","mapCacheHas","mapCacheSet","SetCache","setCacheAdd","setCacheHas","Stack","stackClear","stackDelete","stackGet","stackHas","stackSet","cache","pairs","arrayLikeKeys","inherited","isArray","isArguments","String","skipIndexes","isIndex","eq","baseEach","createBaseEach","baseForOwn","baseFlatten","depth","isStrict","isFlattenable","baseFor","createBaseFor","baseGet","path","isKey","castPath","toKey","baseGetTag","baseHasIn","baseIsEqual","customizer","bitmask","stack","baseIsEqualDeep","equalFunc","objIsArr","othIsArr","objTag","othTag","getTag","objIsObj","othIsObj","isSameTag","equalArrays","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","equalObjects","baseIsMatch","source","matchData","noCustomizer","objValue","srcValue","baseIsNative","isMasked","pattern","isFunction","baseIsTypedArray","isLength","baseIteratee","identity","baseMatchesProperty","baseMatches","property","baseKeys","isPrototype","baseMap","collection","isArrayLike","getMatchData","matchesStrictComparable","isStrictComparable","hasIn","basePropertyDeep","baseToString","stringToPath","eachFunc","fromRight","iterable","keysFunc","props","isPartial","arrLength","othLength","stacked","seen","arrValue","othValue","compared","othIndex","tag","byteLength","byteOffset","buffer","name","message","convert","objProps","objLength","othProps","skipCtor","objCtor","othCtor","isKeyable","ArrayBuffer","Ctor","ctorString","hasPath","hasFunc","proto","memoize","string","match","number","quote","flatMap","resolver","memoized","Cache","isArrayLikeObject","defaultValue","Subverse","parent","particles","particleForces","subverses","createSubverse","subverse","removeSubverse","filter","addParticle","particle","removeParticle","getParticles","lodash_flatmap","addParticleForce","particleForce","removeParticleForce","pf","getParticleForces","enforceBounds","bounds","position","right","velocity","left","bottom","top","applyForces","forces","netForce","acceleration","mass","tick","_this","timing","linear","easeInQuad","easeOutQuad","easeInOutQuad","UniverseState","Universe","_super","_a","_b","_c","frameRate","_d","creationDuration","_e","deathDuration","_f","creationTimingFn","_g","deathTimingFn","onStateChange","health","creationRate","deathRate","setFrameRate","setCreationDuration","setDeathDuration","setState","Creating","val","state","applyGrowth","perceivedRadius","radius","applyDecay","setOnStateChange","die","Dying","resolveDeath","Created","Dead","Particle","friction","_h","color","_j","growthRate","_k","decayRate","Renderer","getImageData","src","image","Image","crossOrigin","onload","canvas","document","createElement","width","height","context","getContext","Error","drawImage","imageData","clearRect","pixels","floor","a","Array2D","onerror","range","shuffle","currentIndex","temporaryValue","randomIndex","random","groupBy","grouper","reduce","groups","item","TwoPI","PI","getMousePosition","event","target","rect","getBoundingClientRect","clientX","clientY","getTouchPosition","touches","BrowserAnimator","callback","fps","setFps","delay","frame","start","rafId","requestAnimationFrame","loop","stop","cancelAnimationFrame","timestamp","seg","CanvasRenderer","drawParticles","fillStyle","beginPath","moveTo","arc","fill","drawFrame","universe","particlesByColor","Simulator","renderer","id","animator","setUniverse","blackHole$$1","blackHole","blackHoleX","blackHoleY","strength","blackHolePosition","disturbance$$1","disturbance","holePosition","entropy$$1","entropy","randomForce","friction$$1","PixelManager","setScale","scale","setCanvasWidth","canvasWidth","setCanvasHeight","canvasHeight","getParticleForce","pixelPosition","getPixelPosition","pixelX","imageWidth","pixelY","imageHeight","updateWidth","updateHeight","row","getHeight","getWidth","xMin","xMax","yMin","yMax","createImageUniverse","url","maxParticles","particleOptions","canvasDimensions","onUniverseStateChange","numPixels","indexArray","selectedPixels","pixelManagers","nextIndex","shouldCreateParticle","pixelManager","initialPosition","finalPosition","initialVelocity","useTransientParticleForce","duration","useState","setParticleForce","useEffect","timeoutId_1","window","ImageState","defaultParticleOptions","ParticleImage","backgroundColor","mouseMoveForce","touchMoveForce","mouseDownForce","mouseMoveForceDuration","touchMoveForceDuration","_l","mouseDownForceDuration","onImageStateChange","_m","style","otherProps","_o","setCanvas","_p","simulatorRef","useRef","entropyForceRef","_q","setPixelManagers","mergedParticleOptions","simulator_1","current","death","setUp","Loading","Loaded","catch","all","updateScale","useCallback","entropyForce","_r","mouseMoveParticleForce","setMouseMoveParticleForce","_s","touchMoveParticleForce","setTouchMoveParticleForce","_t","mouseDownParticleForce","setMouseDownParticleForce","handleMouseMove","position_1","onMouseMove","handleTouchMove","position_2","onTouchMove","handleMouseDown","position_3","onMouseDown","React","touchAction","ref","c"],"sources":["D:\\ReactProjects\\Portfilio\\node_modules\\react-particle-image\\node_modules\\tslib\\tslib.es6.js","D:\\ReactProjects\\Portfilio\\node_modules\\react-particle-image\\node_modules\\lodash.throttle\\index.js","D:\\ReactProjects\\Portfilio\\node_modules\\react-particle-image\\src\\universe\\Vector.ts","D:\\ReactProjects\\Portfilio\\node_modules\\react-particle-image\\node_modules\\lodash.flatmap\\index.js","D:\\ReactProjects\\Portfilio\\node_modules\\react-particle-image\\src\\universe\\Subverse.ts","D:\\ReactProjects\\Portfilio\\node_modules\\react-particle-image\\src\\universe\\timing.ts","D:\\ReactProjects\\Portfilio\\node_modules\\react-particle-image\\src\\universe\\Universe.ts","D:\\ReactProjects\\Portfilio\\node_modules\\react-particle-image\\src\\universe\\Particle.ts","D:\\ReactProjects\\Portfilio\\node_modules\\react-particle-image\\src\\universe\\Renderer.ts","D:\\ReactProjects\\Portfilio\\node_modules\\react-particle-image\\src\\utils.ts","D:\\ReactProjects\\Portfilio\\node_modules\\react-particle-image\\src\\universe\\CanvasRenderer.ts","D:\\ReactProjects\\Portfilio\\node_modules\\react-particle-image\\src\\universe\\Simulator.ts","D:\\ReactProjects\\Portfilio\\node_modules\\react-particle-image\\src\\universe\\forces.ts","D:\\ReactProjects\\Portfilio\\node_modules\\react-particle-image\\src\\universe\\PixelManager.ts","D:\\ReactProjects\\Portfilio\\node_modules\\react-particle-image\\src\\universe\\Array2D.ts","D:\\ReactProjects\\Portfilio\\node_modules\\react-particle-image\\src\\ParticleImage\\createImageUniverse.ts","D:\\ReactProjects\\Portfilio\\node_modules\\react-particle-image\\src\\ParticleImage\\useTransientParticleForce.ts","D:\\ReactProjects\\Portfilio\\node_modules\\react-particle-image\\src\\types.ts","D:\\ReactProjects\\Portfilio\\node_modules\\react-particle-image\\src\\ParticleImage\\ParticleImage.tsx"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","\nclass Vector {\n\n    x: number;\n    y: number;\n\n    constructor(x = 0, y = 0) {\n      this.x = x;\n      this.y = y;\n    }\n  \n    add(vector: Vector): Vector {\n      this.x += vector.x;\n      this.y += vector.y;\n      return this;\n    }\n  \n    subtract(vector: Vector): Vector {\n      this.x -= vector.x;\n      this.y -= vector.y;\n      return this;\n    }\n  \n    addScalar(scalar: number): Vector {\n      this.x += scalar;\n      this.y += scalar;\n      return this;\n    }\n  \n    divideScalar(scalar: number): Vector {\n      this.x = this.x / scalar;\n      this.y = this.y / scalar;\n      return this;\n    }\n  \n    multiplyScalar(scalar: number): Vector {\n      this.x = this.x * scalar;\n      this.y = this.y * scalar;\n      return this;\n    }\n  \n    getMagnitude(): number {\n      return Math.sqrt(this.x * this.x + this.y * this.y);\n    }\n  \n    getAngle(): number {\n      return Math.atan2(this.y, this.x);\n    }\n\n    clone(): Vector {\n      return new Vector(this.x, this.y)\n    } \n\n    toUnit(): Vector {\n      const magnitude = this.getMagnitude() \n      if (magnitude) {\n        return this.clone().divideScalar(magnitude)\n      }\n      return this.clone()\n    } \n  \n    static from(angle: number, magnitude: number): Vector {\n      return new Vector(magnitude * Math.cos(angle), magnitude * Math.sin(angle));\n    }\n  \n    static sum(vectors: Vector[]): Vector {\n      let v = new Vector(0, 0);\n      vectors.forEach(vector => {\n        v.add(vector);\n      });\n      return v;\n    }\n  }\n\n  export default Vector;","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for comparison styles. */\nvar UNORDERED_COMPARE_FLAG = 1,\n    PARTIAL_COMPARE_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values ? values.length : 0;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  this.__data__ = new ListCache(entries);\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  return this.__data__['delete'](key);\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var cache = this.__data__;\n  if (cache instanceof ListCache) {\n    var pairs = cache.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      return this;\n    }\n    cache = this.__data__ = new MapCache(pairs);\n  }\n  cache.set(key, value);\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {boolean} [bitmask] The bitmask of comparison flags.\n *  The bitmask may be composed of the following flags:\n *     1 - Unordered comparison\n *     2 - Partial comparison\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, customizer, bitmask, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObject(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, baseIsEqual, customizer, bitmask, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {number} [bitmask] The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, equalFunc, customizer, bitmask, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = arrayTag,\n      othTag = arrayTag;\n\n  if (!objIsArr) {\n    objTag = getTag(object);\n    objTag = objTag == argsTag ? objectTag : objTag;\n  }\n  if (!othIsArr) {\n    othTag = getTag(other);\n    othTag = othTag == argsTag ? objectTag : othTag;\n  }\n  var objIsObj = objTag == objectTag && !isHostObject(object),\n      othIsObj = othTag == objectTag && !isHostObject(other),\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, equalFunc, customizer, bitmask, stack)\n      : equalByTag(object, other, objTag, equalFunc, customizer, bitmask, stack);\n  }\n  if (!(bitmask & PARTIAL_COMPARE_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, customizer, bitmask, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, equalFunc, customizer, bitmask, stack);\n}\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, customizer, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[objectToString.call(value)];\n}\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, undefined, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG);\n  };\n}\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, equalFunc, customizer, bitmask, stack) {\n  var isPartial = bitmask & PARTIAL_COMPARE_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & UNORDERED_COMPARE_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!seen.has(othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, customizer, bitmask, stack))) {\n              return seen.add(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, customizer, bitmask, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, equalFunc, customizer, bitmask, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & PARTIAL_COMPARE_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= UNORDERED_COMPARE_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), equalFunc, customizer, bitmask, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, equalFunc, customizer, bitmask, stack) {\n  var isPartial = bitmask & PARTIAL_COMPARE_FLAG,\n      objProps = keys(object),\n      objLength = objProps.length,\n      othProps = keys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, customizer, bitmask, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var result,\n      index = -1,\n      length = path.length;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result) {\n    return result;\n  }\n  var length = object ? object.length : 0;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\n/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoize(function(string) {\n  string = toString(string);\n\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates a flattened array of values by running each element in `collection`\n * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n * with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity]\n *  The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [n, n];\n * }\n *\n * _.flatMap([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\nfunction flatMap(collection, iteratee) {\n  return baseFlatten(map(collection, iteratee), 1);\n}\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Assign cache to `_.memoize`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = flatMap;\n","import Particle from './Particle'\nimport ParticleForce from './ParticleForce'\nimport Vector from './Vector'\nimport { Bounds, Nullable } from '../types'\nimport flatMap from 'lodash.flatmap'\n\nexport interface SubverseOptions {\n    bounds?: Bounds\n}\n\nclass Subverse {\n    private particles: Particle[] = []\n    private particleForces: ParticleForce[] = []\n    private parent: Nullable<Subverse>\n    private options: SubverseOptions\n    private subverses: Subverse[] = []\n\n    constructor(parent: Nullable<Subverse>, options: SubverseOptions = {}) {\n        this.parent = parent\n        this.options = options\n    }\n\n    createSubverse(): Subverse {\n        let subverse = new Subverse(this, this.options)\n        this.subverses.push(subverse)\n        return subverse\n    }\n\n    removeSubverse(subverse: Subverse) {\n        this.subverses = this.subverses.filter(s => s !== subverse)\n    }\n\n    addParticle(particle: Particle) {\n        this.particles.push(particle)\n    }\n\n    removeParticle(particle: Particle) {\n        this.particles = this.particles.filter(p => p !== particle)\n    }\n\n    getParticles(): Particle[] {\n        return this.particles.concat(\n            flatMap(\n                this.subverses,\n                subverse => subverse.getParticles()\n            )\n        )\n    }\n\n    addParticleForce(particleForce: ParticleForce) {\n        this.particleForces.push(particleForce)\n    }\n\n    removeParticleForce(particleForce: ParticleForce) {\n        this.particleForces = this.particleForces.filter(pf => pf !== particleForce)\n    }\n\n    getParticleForces(): ParticleForce[] {\n        if (!this.parent) {\n            return this.particleForces\n        }\n        return this.parent.getParticleForces().concat(this.particleForces)\n    }\n\n    private enforceBounds(particle: Particle, bounds: Bounds) {\n        if (particle.position.x > bounds.right) {\n          particle.position.x = bounds.right;\n          particle.velocity.x *= -1;\n        } else if (particle.position.x < bounds.left) {\n          particle.position.x = bounds.left;\n          particle.velocity.x *= -1;\n        }\n        if (particle.position.y > bounds.bottom) {\n          particle.position.y = bounds.bottom;\n          particle.velocity.y *= -1;\n        } else if (particle.position.y < bounds.top) {\n          particle.position.y = bounds.top;\n          particle.velocity.y *= -1;\n        }\n      }\n\n    private applyForces(particle: Particle, particleForces: ParticleForce[]) {\n        const forces: Vector[] = particleForces.map(particleForce => particleForce(particle))\n        const netForce: Vector = Vector.sum(forces)\n        const acceleration: Vector = netForce.divideScalar(particle.mass)\n        particle.position.add(particle.velocity)\n        particle.velocity.add(acceleration)\n    }\n\n    tick() {\n        const particleForces = this.getParticleForces()\n        this.particles.forEach((particle) => {\n            this.applyForces(particle, particleForces)\n            if (this.options.bounds) {\n                this.enforceBounds(particle, this.options.bounds)\n            }\n        })\n        this.subverses.forEach(subverse => subverse.tick())\n    }\n}\n\nexport default Subverse","export type TimingFunction = (t: number) => number\n\ntype TimingFunctions = {\n  [key: string]: TimingFunction\n}\n\nconst timing: TimingFunctions = {\n    linear: (t) => t,\n    easeInQuad: (t) => t*t,\n    easeOutQuad: t => t*(2-t),\n    easeInOutQuad: t => t<.5 ? 2*t*t : -1+(4-2*t)*t\n  }\n\nexport default timing","import Subverse from './Subverse'\nimport Particle from './Particle'\nimport { Bounds, Optional } from '../types'\nimport timing, { TimingFunction } from './timing'\n\nexport interface UniverseOptions {\n    bounds?: Bounds;\n    frameRate?: number;\n    creationDuration?: number;\n    deathDuration?: number;\n    creationTimingFn?: TimingFunction;\n    deathTimingFn?: TimingFunction;\n    onStateChange?: (state: UniverseState, universe: Universe) => void\n}\n\nexport enum UniverseState {\n    Creating = 'Creating',\n    Created = 'Created',\n    Dying = 'Dying',\n    Dead = 'Dead'\n}\n\nclass Universe extends Subverse {\n\n    private state: UniverseState\n    private resolveDeath: (value?: any) => void\n    private health: number = 0\n    private frameRate: number\n    private creationDuration: number\n    private creationRate: number = 1\n    private deathDuration: number\n    private deathRate: number = 1\n    private creationTimingFn: TimingFunction\n    private deathTimingFn: TimingFunction\n    private onStateChange?: (state: UniverseState, universe: Universe) => void\n\n    constructor({ bounds, frameRate = 30, creationDuration = 500, deathDuration = 500, creationTimingFn = timing.easeInQuad, deathTimingFn = timing.easeInQuad, onStateChange }: UniverseOptions = {}) {\n        super(null, { bounds })\n        this.setFrameRate(frameRate)\n        this.setCreationDuration(creationDuration)\n        this.setDeathDuration(deathDuration)\n        this.creationTimingFn = creationTimingFn\n        this.deathTimingFn = deathTimingFn\n        this.onStateChange = onStateChange\n        this.setState(UniverseState.Creating)\n    }\n\n    private setState(val: UniverseState) {\n        this.state = val\n        this.onStateChange?.(val, this)\n    }\n\n    private applyGrowth(particle: Particle) {\n        particle.perceivedRadius = particle.radius * this.creationTimingFn(this.health)\n    }\n\n    private applyDecay(particle: Particle) {\n        particle.perceivedRadius = particle.radius * this.deathTimingFn(this.health)\n    }\n\n    setCreationDuration(creationDuration: number) {\n        this.creationDuration = creationDuration\n        this.creationRate = 1000 / (this.creationDuration * this.frameRate)\n    }\n\n    setDeathDuration(deathDuration: number) {\n        this.deathDuration = deathDuration\n        this.deathRate = 1000 / (this.deathDuration * this.frameRate)\n    }\n\n    setFrameRate(frameRate: number) {\n        this.frameRate = frameRate\n        this.creationRate = 1000 / (this.creationDuration * this.frameRate)\n        this.deathRate = 1000 / (this.deathDuration * this.frameRate)\n    }\n\n    setOnStateChange(onStateChange: Optional<(state: UniverseState, universe: Universe) => void>) {\n        this.onStateChange = onStateChange\n    }\n\n    die(): Promise<void> {\n        this.setState(UniverseState.Dying)\n        return new Promise((resolve) => {\n            this.resolveDeath = resolve\n        })\n    }\n\n    tick() {\n        if (this.state === UniverseState.Creating) {\n            this.health = Math.min(this.health + this.creationRate, 1)\n            this.getParticles().forEach((particle) => {\n                this.applyGrowth(particle)\n            })\n            if (this.health === 1) {\n                this.setState(UniverseState.Created)\n            }\n        }\n        else if (this.state === UniverseState.Dying) {\n            this.health = Math.max(this.health - this.deathRate, 0)\n            this.getParticles().forEach((particle) => {\n                this.applyDecay(particle)\n            })\n            if (this.health === 0) {\n                this.setState(UniverseState.Dead)\n                this.resolveDeath()\n            }\n        }\n        super.tick()\n    }\n}\n\nexport default Universe","import Vector from './Vector'\n\nclass Particle {\n    radius: number;\n    perceivedRadius: number = 0;\n    friction: number;\n    mass: number;\n    position: Vector;\n    velocity: Vector;\n    color: string;\n    growthRate: number;\n    decayRate: number;\n    \n    constructor({\n        radius = 1,\n        friction = 10,\n        mass = 100,\n        position = new Vector(0, 0),\n        velocity = new Vector(0, 0),\n        color = 'black',\n        growthRate = .05,\n        decayRate = .05\n    } = {}) {\n        this.radius = radius\n        this.friction = friction\n        this.mass = mass\n        this.position = position\n        this.velocity = velocity\n        this.color = color\n        this.growthRate = growthRate\n        this.decayRate = decayRate\n    }\n  }\n  \n\nexport default Particle","\nimport Universe from './Universe'\n\nabstract class Renderer {\n    abstract drawFrame(universe: Universe): void\n}\n\nexport default Renderer","import { Array2D } from './universe'\nimport React from 'react'\n\nexport type RGBA = {\n    r: number\n    g: number\n    b: number\n    a: number\n}\n\nexport function getImageData(src: string) {\n    var image = new Image();\n    image.crossOrigin = \"Anonymous\";\n    let p = new Promise<Array2D<RGBA>>((resolve, reject) => {\n      image.onload = function() {\n        let canvas = document.createElement(\"canvas\");\n        canvas.width = image.width\n        canvas.height = image.height\n  \n        let context = canvas.getContext(\"2d\");\n        if (!context) {\n            return reject(new Error('Could not get canvas context')) \n        }\n        context.drawImage(image, 0, 0, image.width, image.height, 0, 0, canvas.width, canvas.height);\n  \n        let imageData = context.getImageData(0, 0, canvas.width, canvas.height)\n            .data;\n    \n        context.clearRect(0, 0, canvas.width, canvas.height);\n  \n        let pixels: RGBA[][] = [];\n        let i = 0;\n        while (i < imageData.length - 1) {\n          let x = (i / 4) % canvas.width;\n          let y = Math.floor(i / 4 / canvas.width);\n          if (!pixels[y]) {\n              pixels[y] = []\n          }\n          pixels[y][x] = {\n            r: imageData[i],\n            g: imageData[i + 1],\n            b: imageData[i + 2],\n            a: imageData[i + 3]\n          }\n          i += 4;\n        }\n        resolve(new Array2D(pixels));\n      };\n      image.onerror = reject;\n    });\n    image.src = src;\n    return p;\n  }\n\n  export const range = (n: number) => [...Array(n).keys()]\n\n  export const shuffle = <T>(array: Array<T>) => {\n    let currentIndex = array.length, temporaryValue, randomIndex;\n  \n    while (0 !== currentIndex) {\n  \n      randomIndex = Math.floor(Math.random() * currentIndex);\n      currentIndex -= 1;\n  \n      temporaryValue = array[currentIndex];\n      array[currentIndex] = array[randomIndex];\n      array[randomIndex] = temporaryValue;\n    }\n  \n    return array;\n  }\n\n  export const groupBy = <T>(array: Array<T>, grouper: (item: T) => string): {[key: string]: T[]} => {\n    return array.reduce((groups, item) => {\n      const key = grouper(item)\n      if (!groups[key]) {\n        groups[key] = []\n      }\n      groups[key].push(item)\n      return groups\n    }, {})\n  }\n\n  export const TwoPI = Math.PI * 2;\n\n  export const getMousePosition = (event: React.MouseEvent<HTMLCanvasElement, MouseEvent>) => {\n    const canvas = event.target as HTMLCanvasElement;\n    var rect = canvas.getBoundingClientRect();\n    return {\n        x: (event.clientX - rect.left) / (rect.right - rect.left) * canvas.width,\n        y: (event.clientY - rect.top) / (rect.bottom - rect.top) * canvas.height\n    };\n}\n\nexport const getTouchPosition = (event: React.TouchEvent<HTMLCanvasElement>) => {\n  const canvas = event.target as HTMLCanvasElement;\n  var rect = canvas.getBoundingClientRect();\n  return {\n      x: (event.touches[0].clientX - rect.left) / (rect.right - rect.left) * canvas.width,\n      y: (event.touches[0].clientY - rect.top) / (rect.bottom - rect.top) * canvas.height\n  };\n}\n\n\nexport class BrowserAnimator {\n\n  callback: Function\n  delay: number\n  frame: number\n  time: number | null\n  rafId: number | null\n\n  constructor(callback: Function, fps: number = 30) {\n    this.delay = 1000 / fps                  \n    this.time = null                                 \n    this.frame = -1\n    this.callback = callback\n  }\n\n  setFps = (fps: number) => {\n    this.delay = 1000 / fps\n    this.time = null\n    this.frame = -1\n  }\n\n  start = () => {\n    if (!this.rafId) {\n        this.rafId = requestAnimationFrame(this.loop);\n    }\n  }\n\n  stop = () => {\n    if (this.rafId) {\n        cancelAnimationFrame(this.rafId);\n        this.rafId = null\n        this.time = null;\n        this.frame = -1;\n    }\n  }\n\n  private loop = (timestamp) => {\n        if (this.time === null) {\n          this.time = timestamp;   \n        }\n        var seg = Math.floor((timestamp - (this.time as number)) / this.delay); // calc frame no.\n        if (seg > this.frame) {                                // moved to next frame?\n            this.frame = seg;                                  // update\n            this.callback({                                    // callback function\n                time: timestamp,\n                frame: this.frame\n            })\n        }\n        this.rafId = requestAnimationFrame(this.loop)\n    }\n}\n","\nimport Universe from './Universe'\nimport Particle from './Particle'\nimport Renderer from './Renderer'\nimport { Nullable } from '../types'\nimport { groupBy, TwoPI } from '../utils'\n\nclass CanvasRenderer extends Renderer {\n\n    canvas: HTMLCanvasElement\n\n    constructor(canvas: HTMLCanvasElement) {\n      super()\n      this.canvas = canvas;\n    }\n\n    private context(): Nullable<CanvasRenderingContext2D> {\n        return this.canvas.getContext('2d')\n    }\n  \n    private height() {\n      return this.canvas.height;\n    }\n  \n    private width() {\n      return this.canvas.width;\n    }\n  \n    private clear() {\n      this.context()?.clearRect(0, 0, this.width(), this.height());\n    }\n  \n    private drawParticles(particles: Particle[], color: string) {\n      const context = this.context()\n      if (context) {\n        context.fillStyle = color;\n        context.beginPath();\n        particles.forEach((particle) => {\n          context.moveTo( particle.position.x + particle.radius, particle.position.y );\n          context.arc(particle.position.x, particle.position.y, particle.perceivedRadius, 0, TwoPI );\n        })\n        context.fill();\n      }\n    }\n\n    drawFrame(universe: Universe) {\n      this.clear()\n      const particles = universe.getParticles()\n      const particlesByColor = groupBy(particles, (particle) => particle.color)\n      Object.keys(particlesByColor).forEach((color) => {\n        this.drawParticles(particlesByColor[color], color)\n      })\n    }\n  }\n\n  export default CanvasRenderer;","import Universe from './Universe'\nimport Renderer from './Renderer'\nimport { BrowserAnimator } from '../utils'\nimport { Nullable } from '../types'\n\nexport interface SimulatorOptions {\n    frameRate?: number;\n}\n\nclass Simulator {\n\n    universe: Nullable<Universe>;\n    renderer: Renderer;\n    animator: BrowserAnimator;\n    id: Nullable<number> = null;\n\n    constructor(renderer: Renderer, universe: Nullable<Universe> = null, { frameRate = 30 }: SimulatorOptions = {}) {\n        this.universe = universe\n        this.renderer = renderer\n        this.animator = new BrowserAnimator(this.loop, frameRate)\n    }\n\n    setUniverse(universe: Nullable<Universe>) {\n        this.universe = universe\n    }\n\n    start = () => {\n        this.animator.start()\n    }\n\n    stop = () => {\n        this.animator.stop()\n    }\n\n    private loop = () => {\n        if (this.universe) {\n            this.renderer.drawFrame(this.universe)\n            this.universe.tick()\n        }\n    }\n    \n}\n\nexport default Simulator","\nimport { Particle, ParticleForce, Vector } from '../universe'\n\nfunction blackHole(blackHoleX: number, blackHoleY: number, strength: number = 1): ParticleForce {\n    return (particle: Particle) => {\n      let blackHolePosition = new Vector(blackHoleX, blackHoleY);\n      return blackHolePosition.subtract(particle.position).multiplyScalar(strength);\n    };\n  }\n\nfunction disturbance(x: number, y: number, strength: number = 1): ParticleForce {\n    return (particle: Particle) => {\n      let holePosition = new Vector(x, y);\n      holePosition.subtract(particle.position).multiplyScalar(-1)\n      holePosition.divideScalar((holePosition.getMagnitude()^12)/(strength + .001) + .01)\n      return holePosition\n    };\n}\n\nfunction entropy(n: number): ParticleForce {\n    return () => {\n        let randomForce = new Vector(Math.random() - 0.5, Math.random() - 0.5);\n        return randomForce.multiplyScalar(n);\n    };\n}\n\nconst friction: ParticleForce = (particle: Particle) => {\n    const friction = Math.min(Math.max(particle.friction, 0), 1)\n    if (particle.velocity.getMagnitude() === 0) {\n        return new Vector(0, 0)\n    }\n    return particle.velocity.clone().multiplyScalar(-(friction * particle.mass))\n};\n\nexport {\n    blackHole,\n    disturbance,\n    entropy,\n    friction\n}","import * as forces from \"./forces\";\nimport ParticleForce from \"./ParticleForce\";\nimport Particle from \"./Particle\";\nimport Vector from \"./Vector\";\n\ninterface PixelManagerOptions {\n    pixelX: number; \n    pixelY: number; \n    scale: number; \n    imageWidth: number; \n    imageHeight: number; \n    canvasWidth: number; \n    canvasHeight: number;\n}\n\nclass PixelManager {\n\n    pixelX: number; \n    pixelY: number; \n    scale: number; \n    imageWidth: number; \n    imageHeight: number; \n    canvasWidth: number; \n    canvasHeight: number;\n\n    constructor(options: PixelManagerOptions) {\n        this.pixelX = options.pixelX \n        this.pixelY = options.pixelY \n        this.scale = options.scale\n        this.imageWidth = options.imageWidth\n        this.imageHeight = options.imageHeight\n        this.canvasWidth = options.canvasWidth\n        this.canvasHeight = options.canvasHeight\n    }\n\n    setScale = (scale: number) => {\n        this.scale = scale\n    }\n\n    setCanvasWidth = (width: number) => {\n        this.canvasWidth = width\n    }\n\n    setCanvasHeight = (height: number) => {\n        this.canvasHeight = height\n    }\n\n    getParticleForce = (): ParticleForce => (particle: Particle) => {\n        const pixelPosition = this.getPixelPosition()\n        return forces.blackHole(pixelPosition.x, pixelPosition.y)(particle)\n    }\n\n    getPixelPosition = (): Vector => {\n        const x = this.pixelX * this.scale + (this.canvasWidth / 2) - (this.imageWidth * this.scale / 2);\n        const y = this.pixelY * this.scale + (this.canvasHeight / 2) - (this.imageHeight * this.scale / 2);\n        return new Vector(x, y)\n    }\n}\n\nexport default PixelManager","\ntype SliceRange = [number, number]\n\nclass Array2D<T> {\n\n    private array: Array<Array<T>>\n    private width: number;\n    private height: number;\n\n    constructor(array: Array<Array<T>>) {\n        this.array = array\n        this.updateWidth()\n        this.updateHeight()\n    }\n\n    private updateWidth(): void {\n        this.width = Math.min(...this.array.map(row => row.length))\n    }\n\n    private updateHeight(): void {\n        this.height = this.array.length\n    }\n\n    getHeight(): number {\n        return this.height\n    }\n\n    getWidth(): number {\n        return this.width\n    }\n\n    get(x: number, y: number): T {\n        return this.array[y][x]\n    }\n\n    set(x: number, y: number, value: T): void {\n        if (!this.array[y]) {\n            this.array[y] = []\n        }\n        this.array[y][x] = value\n        this.updateWidth()\n        this.updateHeight()\n    }\n\n    slice([xMin, xMax]: SliceRange, [yMin, yMax]: SliceRange): Array2D<T> {\n        return new Array2D(this.array.slice(yMin, yMax).map((row) => {\n            return row.slice(xMin, xMax)\n        }))\n    }\n\n\n    forEach(callback: (item: T, x: number, y: number) => void): void {\n        this.array.forEach((row: T[], y: number) => {\n            row.forEach((item: T, x: number) => {\n                callback(item, x, y)\n            })\n        })\n    }\n}\n\nexport default Array2D","import { ParticleOptions } from './ParticleImage'\nimport { TimingFunction } from '../universe/timing'\nimport { getImageData, shuffle, range } from '../utils'\nimport { Universe, UniverseState, PixelManager, Vector, Particle } from '../universe'\nimport { Dimensions } from '../types'\n\nexport interface ImageUniverseSetupResult {\n    universe: Universe;\n    pixelManagers: PixelManager[];\n  }\n\nexport interface SetupOptions {\n    url: string;\n    maxParticles: number; \n    particleOptions: Required<ParticleOptions>;\n    scale: number;\n    canvasDimensions: Dimensions;\n    creationDuration?: number;\n    deathDuration?: number;\n    creationTimingFn?: TimingFunction;\n    deathTimingFn?: TimingFunction;\n    onUniverseStateChange?: (state: UniverseState, universe: Universe) => void\n  }\n  \n const createImageUniverse = async ({url, maxParticles, particleOptions, scale, canvasDimensions, creationTimingFn, deathTimingFn, creationDuration, deathDuration, onUniverseStateChange}: SetupOptions): Promise<ImageUniverseSetupResult> => {\n  \n    const image = await getImageData(url)\n    const imageHeight = image.getHeight()\n    const imageWidth = image.getWidth()\n    let numPixels = imageHeight * imageWidth\n    let indexArray = shuffle(range(numPixels))\n    let selectedPixels = 0\n    const universe = new Universe({ \n      creationTimingFn, \n      deathTimingFn, \n      creationDuration, \n      deathDuration, \n      onStateChange: onUniverseStateChange\n    })\n    let pixelManagers: PixelManager[] = []\n    maxParticles = Math.min(numPixels, maxParticles)\n  \n    while (selectedPixels < maxParticles && indexArray.length) {\n        const nextIndex = indexArray.pop() || 0\n        const x = nextIndex % imageWidth\n        const y = Math.floor(nextIndex / imageWidth)\n  \n        let shouldCreateParticle: boolean = particleOptions.filter({x, y, image})\n\n        if (shouldCreateParticle) {\n            const subverse = universe.createSubverse()\n  \n            const pixelManager = new PixelManager({pixelX: x, pixelY: y, scale, imageHeight: image.getHeight(), imageWidth: image.getWidth(), canvasWidth: canvasDimensions.width, canvasHeight: canvasDimensions.height})\n            pixelManagers.push(pixelManager)\n            subverse.addParticleForce(pixelManager.getParticleForce())\n  \n            let color: string = particleOptions.color({x, y, image})\n  \n            let radius: number = particleOptions.radius({x, y, image})\n  \n            let friction: number = particleOptions.friction({x, y, image})\n\n            let mass: number = particleOptions.mass({x, y, image})\n  \n            let position: Vector = particleOptions.initialPosition({x, y, image, finalPosition: pixelManager.getPixelPosition(), canvasDimensions})\n  \n            let velocity: Vector = particleOptions.initialVelocity({x, y, image})\n  \n            subverse.addParticle(new Particle({radius, mass, color, friction, position, velocity}))\n            selectedPixels += 1\n        }\n  \n    }\n  \n    return { universe, pixelManagers }\n  }\n  \n  export default createImageUniverse","import { useEffect, useState } from 'react';\nimport { Universe, ParticleForce } from '../universe'\nimport { Optional, Nullable } from '../types'\n\ninterface UseTransientParticleForceParams  {\n    universe: Optional<Universe>; \n    duration?: number;\n}\n\ntype UseTransientParticleForceReturn = [\n    Nullable<ParticleForce>, \n    React.Dispatch<React.SetStateAction<Nullable<ParticleForce>>>\n]\n\nconst useTransientParticleForce = ({universe, duration = 100}: UseTransientParticleForceParams): UseTransientParticleForceReturn => {\n    const [particleForce, setParticleForce] = useState<Nullable<ParticleForce>>(null)\n\n    useEffect(() => {\n        // Reset before universe change\n        return () => {\n            setParticleForce(null)\n        }\n    }, [universe])\n\n    useEffect(() => {\n        if (universe && particleForce) {\n            universe.addParticleForce(particleForce)\n            const timeoutId = window.setTimeout(() => {\n                universe.removeParticleForce(particleForce)\n                setParticleForce(null)\n            }, duration)\n            return () => {\n                window.clearTimeout(timeoutId)\n                universe.removeParticleForce(particleForce)\n            }\n        }\n    }, [universe, particleForce, duration])\n\n    return [particleForce, setParticleForce]\n}\n\nexport default useTransientParticleForce","export type Nullable<T> = T | null;\nexport type Optional<T> = T | undefined;\n\nexport type Bounds = {\n    top: number\n    right: number\n    bottom: number\n    left: number\n};\n\nexport type Dimensions = {\n    width: number,\n    height: number\n}\n\nexport enum ImageState {\n    Loading = 'Loading',\n    Loaded = 'Loaded',\n    Error = 'Error'\n}","import React, { FC, useEffect, useRef, useCallback, useState, HTMLProps } from 'react';\nimport throttle from 'lodash.throttle'\nimport { Universe, UniverseState, CanvasRenderer, Simulator, ParticleForce, Vector, forces, PixelManager, Array2D, timing } from '../universe'\nimport { getMousePosition, getTouchPosition, RGBA } from '../utils'\nimport createImageUniverse, { ImageUniverseSetupResult } from './createImageUniverse'\nimport useTransientParticleForce from './useTransientParticleForce';\nimport { Dimensions, ImageState } from '../types'\n\nexport type PixelOptions = {\n    x: number;\n    y: number;\n    image: Array2D<RGBA>\n}\n\n/**\n * Options to be applied to particles during their creation. \n */\nexport interface ParticleOptions {\n\n    /**\n     * Given a pixel in the img, the filter determines whether or not a particle should be created for this pixel. \n     * This is run for all pixels in the image in random order until maxParticles limit is reached. If the filter\n     * returns true, a particle will be created for this pixel.\n     */\n    filter?: (options: PixelOptions) => boolean;\n\n    /**\n     * Given a pixel in the img, calculates the radius of the corresponding particle.\n     * This function is only executed on pixels whose filters return true.\n     */\n    radius?: (options: PixelOptions) => number;\n\n    /**\n     * Given a pixel in the img, calculates the mass of the corresponding particle.\n     * This function is only executed on pixels whose filters return true.\n     */\n    mass?: (options: PixelOptions) => number;\n\n    /**\n     * Given a pixel in the img, calculates the color of the corresponding particle.\n     * Fewer colors will result in better performance (higher framerates).\n     * This function is only executed on pixels whose filters return true.\n     */\n    color?: (options: PixelOptions) => string;\n\n    /**\n     * Given a pixel in the img, calculates the coefficient of kinetic friction of the corresponding particle.\n     * This should have a value between 0 and 1.\n     * This function is only executed on pixels whose filters return true.\n     */\n    friction?: (options: PixelOptions) => number;\n\n    /**\n     * Given a pixel in the img, calculates the initial position vector of the corresponding particle.\n     * This function is only executed on pixels whose filters return true.\n     */\n    initialPosition?: (options: PixelOptions & {finalPosition: Vector, canvasDimensions: Dimensions}) => Vector;\n\n    /**\n     * Given a pixel in the img, calculates the initial velocity vector of the corresponding particle.\n     * This function is only executed on pixels whose filters return true.\n     */\n    initialVelocity?: (options: PixelOptions) => Vector;\n}\n\n/**\n * Available props for ParticleImage.\n * @noInheritDoc\n */\nexport interface ParticleImageProps extends HTMLProps<HTMLCanvasElement> {\n    /**\n     * Img src url to load image\n     */\n    src: string\n\n    /**\n     * Height of the canvas.\n     */\n    height?: number;\n\n    /**\n     * Width of the canvas.\n     */\n    width?: number;\n\n    /**\n     * Scales the image provided via src.\n     */\n    scale?: number;\n\n    /**\n     * The maximum number of particles that will be created in the canvas.\n     */\n    maxParticles?: number;\n\n    /**\n     * The amount of entropy to act on the particles.\n     */\n    entropy?: number;\n\n    /**\n     * The background color of the canvas.\n     */\n    backgroundColor?: string;\n\n    /**\n     * Options to be applied to particles during their creation.\n     */\n    particleOptions?: ParticleOptions;\n\n    /**\n     * An interactive force to be applied to the particles during mousemove events.\n     */\n    mouseMoveForce?: (x: number, y: number) => ParticleForce;\n\n    /**\n     * Time in milliseconds that force resulting from mousemove event should last in universe.\n     */\n    mouseMoveForceDuration?: number;\n\n    /**\n     * An interactive force to be applied to the particles during touchmove events.\n     */\n    touchMoveForce?: (x: number, y: number) => ParticleForce;\n\n    /**\n     * Time in milliseconds that force resulting from mousemove event should last in universe.\n     */\n    touchMoveForceDuration?: number;\n\n    /**\n     * An interactive force to be applied to the particles during mousedown events.\n     */\n    mouseDownForce?: (x: number, y: number) => ParticleForce;\n\n    /**\n     * Time in milliseconds that force resulting from mousemove event should last in universe.\n     */\n    mouseDownForceDuration?: number;\n\n    /**\n     * The duration in milliseconds that it should take for the universe to reach full health.\n     */\n    creationDuration?: number;\n\n    /**\n     * The duration in milliseconds that it should take for the universe to die.\n     */\n    deathDuration?: number;\n\n    /**\n     * A timing function to dictate how the particles in the universe grow from radius zero to their full radius.\n     * This function receives a progress argument between 0 and 1 and should return a number between 0 and 1.\n     */\n    creationTimingFn?: timing.TimingFunction;\n\n    /**\n     * A timing function to dictate how the particles in the universe shrink from their full radius to radius zero.\n     * This function receives a progress argument between 0 and 1 and should return a number between 0 and 1.\n     */\n    deathTimingFn?: timing.TimingFunction;\n\n    /**\n     * Callback invoked on universe state changes.\n     */\n    onUniverseStateChange?: (state: UniverseState, universe: Universe) => void;\n\n    /**\n     * Callback invoked on image loading state changes.\n     */\n    onImageStateChange?: (state: ImageState) => void;\n}\n\n/**\n * Default particle options\n * @internal\n */\nconst defaultParticleOptions: Required<ParticleOptions> = {\n    filter: () => true,\n    radius: () => 1,\n    mass: () => 50,\n    color: () => 'white',\n    friction: () => .15,\n    initialPosition: ({finalPosition}) => finalPosition,\n    initialVelocity: () => new Vector(0, 0)\n}\n\nconst ParticleImage: FC<ParticleImageProps> = ({\n    src, \n    height = 400, \n    width = 400, \n    scale = 1, \n    maxParticles = 5000, \n    entropy = 20, \n    backgroundColor = '#222', \n    particleOptions = {}, \n    mouseMoveForce, \n    touchMoveForce, \n    mouseDownForce,\n    mouseMoveForceDuration = 100,\n    touchMoveForceDuration = 100,\n    mouseDownForceDuration = 100,\n    creationTimingFn,\n    creationDuration,\n    deathTimingFn,\n    deathDuration,\n    onUniverseStateChange,\n    onImageStateChange,\n    style={}, \n    ...otherProps\n}) => {\n    \n    const [canvas, setCanvas] = useState<HTMLCanvasElement>()\n    const [universe, setUniverse] = useState<Universe>()\n    const simulatorRef = useRef<Simulator>()\n    const entropyForceRef = useRef<ParticleForce>()\n    const [pixelManagers, setPixelManagers] = useState<PixelManager[]>([])\n\n    const mergedParticleOptions: Required<ParticleOptions> = {\n        ...defaultParticleOptions,\n        ...particleOptions\n    }\n\n    useEffect(() => {\n        if (canvas) {\n            const renderer = new CanvasRenderer(canvas)\n            const simulator = new Simulator(renderer)\n            simulatorRef.current = simulator\n            simulator.start()\n            return () => simulator.stop()\n        }\n    }, [canvas])\n\n    useEffect(() => {\n        if (canvas) {\n            const canvasDimensions = {\n                width: canvas.width,\n                height: canvas.height\n            }\n            const death = universe?.die()\n            const setUp = createImageUniverse({\n                url: src, \n                maxParticles, \n                particleOptions: mergedParticleOptions, \n                scale, \n                canvasDimensions,\n                creationTimingFn,\n                creationDuration,\n                deathTimingFn,\n                deathDuration,\n                onUniverseStateChange\n            })\n            onImageStateChange?.(ImageState.Loading)\n            setUp\n                .then(() => {\n                    onImageStateChange?.(ImageState.Loaded)\n                })\n                .catch(() => {\n                    onImageStateChange?.(ImageState.Error)\n                })\n            Promise.all<ImageUniverseSetupResult, void>([setUp, death])\n                .then(([{universe, pixelManagers}]) => {\n                    setPixelManagers(pixelManagers)\n                    universe.addParticleForce(forces.friction)\n                    simulatorRef.current?.setUniverse(universe)\n                    setUniverse(universe)\n                })\n                .catch(() => {\n                    // Eat it here, let the consumer handle it via onImageStateChange\n                })\n        }\n    }, [canvas, src])\n\n    useEffect(() => {\n        universe?.setOnStateChange(onUniverseStateChange)\n    }, [universe, onUniverseStateChange])\n\n    const updateScale = useCallback(throttle((scale: number) => {\n        pixelManagers.forEach((pixelManager) => {\n            pixelManager.setScale(scale)\n        })\n    }, 50), [pixelManagers])\n\n    const updateWidth = useCallback(throttle((width: number) => {\n        pixelManagers.forEach((pixelManager) => {\n            pixelManager.setCanvasWidth(width)\n        })\n    }, 50), [pixelManagers])\n\n    const updateHeight = useCallback(throttle((height: number) => {\n        pixelManagers.forEach((pixelManager) => {\n            pixelManager.setCanvasHeight(height)\n        })\n    }, 50), [pixelManagers])\n\n    useEffect(() => {\n        updateScale(scale)\n    }, [scale, updateScale])\n\n    useEffect(() => {\n        updateWidth(width)\n    }, [width, updateWidth])\n\n    useEffect(() => {\n        updateHeight(height)\n    }, [height, updateHeight])\n\n    useEffect(() => {\n        const entropyForce = forces.entropy(entropy)\n        universe?.addParticleForce(entropyForce)\n        entropyForceRef.current = entropyForce\n        return () => {\n            universe?.removeParticleForce(entropyForce)\n        }\n    }, [entropy, canvas, universe])\n\n    const [mouseMoveParticleForce, setMouseMoveParticleForce] = useTransientParticleForce({universe, duration: mouseMoveForceDuration})\n    const [touchMoveParticleForce, setTouchMoveParticleForce] = useTransientParticleForce({universe, duration: touchMoveForceDuration})\n    const [mouseDownParticleForce, setMouseDownParticleForce] = useTransientParticleForce({universe, duration: mouseDownForceDuration})\n\n    const handleMouseMove = (e) => {\n        if (mouseMoveForce) {\n            const position = getMousePosition(e)\n            setMouseMoveParticleForce(() => mouseMoveForce(position.x, position.y))\n        }\n        otherProps.onMouseMove?.(e)\n    }\n\n    const handleTouchMove = (e) => {\n        if (touchMoveForce) {\n            const position = getTouchPosition(e)\n            setTouchMoveParticleForce(() => touchMoveForce(position.x, position.y))\n        }\n        otherProps.onTouchMove?.(e)\n    }\n\n    const handleMouseDown = (e) => {\n        if (mouseDownForce) {\n            const position = getMousePosition(e)\n            setMouseDownParticleForce(() => mouseDownForce(position.x, position.y))\n        }\n        otherProps.onMouseDown?.(e)\n    }\n\n    return (\n        <canvas\n            {...otherProps}\n            onMouseMove={handleMouseMove} \n            onTouchMove={handleTouchMove} \n            onMouseDown={handleMouseDown}\n            height={height} \n            width={width} \n            style={{backgroundColor, touchAction: 'none', ...style}} \n            ref={(c) =>  {\n                if (c?.getContext('2d')) {\n                    setCanvas(c)\n                }\n            }}\n        />\n    )\n}\n\nexport default ParticleImage"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}